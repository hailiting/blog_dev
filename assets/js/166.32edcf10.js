(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{572:function(e,s,t){"use strict";t.r(s);var a=t(44),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"php-连接数据库的基本方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#php-连接数据库的基本方法"}},[e._v("#")]),e._v(" php 连接数据库的基本方法")]),e._v(" "),t("p",[e._v("都是 PHP 连接数据库的方法")]),e._v(" "),t("h2",{attrs:{id:"对象化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对象化"}},[e._v("#")]),e._v(" 对象化")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$host = 'locahost'; // url 不要加端口，要单独指定\n$db = mysqli_connect($host, $user, $passwd, $database, $port);\n$db->set_charset('utf8'); // 设置查询结果编码\n$result = $db->query($sql); // 得到查询结果\n\nwhile($row = $tempResult -> fetch_array()){\n    echo $row['post_title'];\n}\n$db->close(); // 关闭连接\n")])])]),t("h2",{attrs:{id:"过程化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#过程化"}},[e._v("#")]),e._v(" 过程化")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$host = 'localhost:3306'; // 这个是需要加端口号的\n\n$link = mysql_connect($host, $user, $passwd); // 建立连接\nmysql_select_db($database, $link); // 选择数据库\n$result = mysql_query($sql, $link);\n\nwhile($row = mysql_fetch_array($tempResult)){\n    echo $row['post_title'];\n}\n\nmysql_close($link); // 关闭连接\necho $str;\n")])])]),t("h2",{attrs:{id:"pdo-php-data-object"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pdo-php-data-object"}},[e._v("#")]),e._v(" PDO (PHP Data Object)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('$servername = "localhost";\n$username = "username";\n$password = "password";\n$dbname = "myDBPDO";\ntry{\n    $conn = new PDO("mysql:host=$servername;dbname=$dbname", $username, $password);\n    // 设置PDO错误模式，用于抛出异常\n    $conn -> setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n    $sql = "INSERT INTO MyGuests (firstname, lastname, email) VALUES (\'John\', \'Doe\', \'john@example.com\')";\n    // 使用 exec(), 没有结果返回\n    $conn -> exec($sql);\n    echo "新记录插入成功";\n} catch (PDOException $e){\n    echo $sql . "<br/>" . $e->getMessage();\n}\n$conn = null;\n')])])])])}),[],!1,null,null,null);s.default=n.exports}}]);