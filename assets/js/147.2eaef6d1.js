(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{552:function(t,s,n){"use strict";n.r(s);var a=n(44),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"nodejs-源码学习"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-源码学习"}},[t._v("#")]),t._v(" nodejs 源码学习")]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/nodejs/node.git\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" node\n./configure "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n")])])]),n("h2",{attrs:{id:"源文件三大类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源文件三大类"}},[t._v("#")]),t._v(" 源文件三大类")]),t._v(" "),n("ul",[n("li",[t._v("纯"),n("code",[t._v("Javascript")]),t._v("写的核心模块")]),t._v(" "),n("li",[t._v("带"),n("code",[t._v("NativeBinding")]),t._v("的"),n("code",[t._v("JavaScript")]),t._v("核心模块")]),t._v(" "),n("li",[n("code",[t._v("C++")]),t._v("文件")])]),t._v(" "),n("h2",{attrs:{id:"lib-js-代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lib-js-代码"}},[t._v("#")]),t._v(" "),n("code",[t._v("/lib")]),t._v(" js 代码")]),t._v(" "),n("p",[t._v("下划线开头的不是直接暴露的接口\n"),n("strong",[n("code",[t._v("_debug_agent.js + _deblugger.js")])]),t._v("\n命令行工具，通过一些输入，通过协议转给 v8，进行断点调试。\ndebug 接口，基于 TCP 协议通信，\n通过用户收入\n"),n("strong",[t._v("http_client")]),t._v("\n客户端请求 http_agent 代理\n"),n("strong",[t._v("http_incoming.js http_outgoing.js")]),t._v("\n接收和返回\n"),n("strong",[t._v("http_server")]),t._v("\n对 http 模块组装和暴露接口")]),t._v(" "),n("p",[n("strong",[t._v("stream")])]),t._v(" "),n("p",[t._v("数据流")]),t._v(" "),n("ul",[n("li",[t._v("duplex 即可写也可读(具体应用到 paththrough)")]),t._v(" "),n("li",[t._v("passthrougth")]),t._v(" "),n("li",[t._v("readable 可以读到什么信息")]),t._v(" "),n("li",[t._v("writable 写")]),t._v(" "),n("li",[t._v("transform 传递什么数据")]),t._v(" "),n("li",[t._v("wrap")])]),t._v(" "),n("p",[n("strong",[t._v("tls buffer child_process")]),t._v("\n创建子进程相关的接口会在这里暴露\n接口暴露\n"),n("strong",[t._v("dgram")]),t._v("\nudp 相关的接口\n"),n("strong",[t._v("dns")]),t._v(" "),n("strong",[t._v("events")]),t._v("\n事件和触发相关的代码\n"),n("strong",[t._v("module.js")]),t._v("\n模块加载相关的接口 - require exports\n"),n("strong",[t._v("net")]),t._v("\ntcp（不包含 tls）\n"),n("strong",[t._v("os")]),t._v("\n获取操作系统信息相关的接口\n"),n("strong",[t._v("path")]),t._v("\npathname 及解析相关的函数\n"),n("strong",[t._v("process")]),t._v("\n本身是个"),n("code",[t._v("stream")]),t._v(" "),n("strong",[t._v("querystring")]),t._v("\nurl 参数的解析\n"),n("strong",[t._v("repl")]),t._v("\nR(read)、E(evaluate)、P(print)、L(loop)\n"),n("strong",[t._v("v8")])]),t._v(" "),n("h2",{attrs:{id:"src-c-代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#src-c-代码"}},[t._v("#")]),t._v(" "),n("code",[t._v("/src")]),t._v(" c++ 代码")]),t._v(" "),n("div",{staticClass:"language-c++ extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("int Start(int argc, char** argv){\n\n}\n")])])]),n("h2",{attrs:{id:"node-patch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node-patch"}},[t._v("#")]),t._v(" node patch")]),t._v(" "),n("ul",[n("li",[n("ol",[n("li",[t._v("问题")])])])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("branch name: fix/gh-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ncommit message: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module name: description"')]),t._v("\ntest/parallel/test-*.js\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);