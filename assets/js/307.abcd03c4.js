(window.webpackJsonp=window.webpackJsonp||[]).push([[307],{730:function(s,a,t){"use strict";t.r(a);var e=t(44),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mac-搭建虚拟-centos-服务器环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac-搭建虚拟-centos-服务器环境"}},[s._v("#")]),s._v(" Mac 搭建虚拟 CentOS 服务器环境")]),s._v(" "),t("h2",{attrs:{id:"安装-centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-centos"}},[s._v("#")]),s._v(" 安装 CentOS")]),s._v(" "),t("h3",{attrs:{id:"_1-virtualbox-和-centos-下载地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-virtualbox-和-centos-下载地址"}},[s._v("#")]),s._v(" 1 VirtualBox 和 CentOS 下载地址")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"}},[s._v("VirtualBox"),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://www.centos.org/download/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"centos-三种镜像文件的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-三种镜像文件的区别"}},[s._v("#")]),s._v(" CentOS 三种镜像文件的区别：")]),s._v(" "),t("ul",[t("li",[s._v("DVDISO: 标准安装版，一般这个就可以")]),s._v(" "),t("li",[s._v("EverythingISO: 对完整版安装盘的软件进行补偿，集成所有软件。（包含 CentOS7 的一套完整的软件包，可以用来安装系统或填充本地镜像）")]),s._v(" "),t("li",[s._v("MinimalISO: 迷你版，小巧、安装快速、自带的软件少（适合学习）")])]),s._v(" "),t("h3",{attrs:{id:"_2-virtualbox-比较好安装-一路继续就可"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-virtualbox-比较好安装-一路继续就可"}},[s._v("#")]),s._v(" 2 VirtualBox 比较好安装，一路继续就可")]),s._v(" "),t("h4",{attrs:{id:"_2-1-若要修改虚拟硬盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-若要修改虚拟硬盘"}},[s._v("#")]),s._v(" 2.1 若要修改虚拟硬盘")]),s._v(" "),t("p",[s._v("菜单栏【控制】->【设置】\n找到【储存】->【控制器 IDE】 新增\n可以把现有的不用的删了。")]),s._v(" "),t("h3",{attrs:{id:"_3-centos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-centos"}},[s._v("#")]),s._v(" 3 centos")]),s._v(" "),t("p",[s._v("tips: 在配置资源的时候，最好多给一点「10G」左右，要不然会出现"),t("code",[s._v("FATAL: iscsiroot requested but kernel/initrd does not suport iscs")]),s._v("错误。")]),s._v(" "),t("h3",{attrs:{id:"_4-centos-连网"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-centos-连网"}},[s._v("#")]),s._v(" 4 centos 连网")]),s._v(" "),t("p",[s._v("4.1 VirtualBox 当前虚拟机下 【设置】【网络】【连接方式：桥接网卡】\n4.2 查看本机的 ip【我是 mac ifconfig】【window ipconfig/all】\n4.3 修改虚拟机的网络配置 "),t("code",[s._v("vi /etc/sysconfig/network-scripts/ifcfg-enp0s3")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('ONBOOT=yes\nDNS1="192.168.12.11"\n')])])]),t("p",[s._v("4.4 "),t("code",[s._v("nmcli c reload")]),s._v(" 【重启网卡的方法】\n4.5 "),t("code",[s._v("ping baidu.com")])]),s._v(" "),t("h3",{attrs:{id:"_5-客户端和服务器互-ping"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-客户端和服务器互-ping"}},[s._v("#")]),s._v(" 5 客户端和服务器互 ping")]),s._v(" "),t("p",[s._v("5.1 永久关闭 centos 防火墙\n"),t("code",[s._v("systemctl disable firewalld service")]),s._v("\n5.2 查看服务器 ip 地址\n"),t("code",[s._v("ip address show")]),s._v("\nenpxxx inet 192.168.2.171/24")]),s._v(" "),t("h3",{attrs:{id:"_6-客户端-ssh-root-ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-客户端-ssh-root-ip"}},[s._v("#")]),s._v(" 6 客户端 "),t("code",[s._v("ssh root@ip")])]),s._v(" "),t("h3",{attrs:{id:"_7-查看-centos-当前版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-查看-centos-当前版本"}},[s._v("#")]),s._v(" 7 查看 centos 当前版本")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cat /etc/redhat-release\n->\nCentOS Linux release 8.2.2004(Core)\n")])])]),t("h2",{attrs:{id:"centos-环境配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-环境配置"}},[s._v("#")]),s._v(" CentOS 环境配置")]),s._v(" "),t("h3",{attrs:{id:"yum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum"}},[s._v("#")]),s._v(" yum")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#添加几个源，不然会报错\n#php高版本的yum源地址，有两部分，其中一部分是epel-release，另外一部分来自webtatic。如果跳过epel-release的话，安装webtatic的时候\nrpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm\nrpm -Uvh http://rpms.remirepo.net/enterprise/remi-release-8.rpm\n#更新源\ndnf -y install dnf-utils\n// 这时候 yum已经有了\n")])])]),t("h4",{attrs:{id:"安装-mysql-数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql-数据库"}},[s._v("#")]),s._v(" 安装 mysql 数据库")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum install mariadb-server mariadb\n")])])]),t("h4",{attrs:{id:"mariadb-数据库的相关命令是"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mariadb-数据库的相关命令是"}},[s._v("#")]),s._v(" mariadb 数据库的相关命令是：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl start mariadb  #启动MariaDB\nmysql -u root -p【默认p是空】\n")])])]),t("h5",{attrs:{id:"一些基础设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些基础设置"}},[s._v("#")]),s._v(" 一些基础设置")]),s._v(" "),t("p",[s._v("1，初始化密码\n1.1\n_ 以 root 身份在终端登录（必须）\n_ 输入 mysqladmin -u root -p password ex\n_ 回车后出现 EnterPassword\n_ 输入就是密码，如果没有，就直接回车\n1.2")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('mysql> set password for "root"@"localhost"=password("123456");\n')])])]),t("p",[s._v("2，远程连接设置\n把所有数据库的所有表的所有权限赋值给位于所有 IP 地址的 root 用户")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> grant all privileges on *.* to root@'%'identified by '123456';\n")])])]),t("p",[s._v("如果是新用户，而不是 root，则要先新建用户")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql> create user 'username'@'%' identified by 'password';\n")])])]),t("p",[s._v("此时就可以进行远程连接了")]),s._v(" "),t("p",[s._v("BOOTPROTO=dhcp")]),s._v(" "),t("h4",{attrs:{id:"nodejs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nodejs"}},[s._v("#")]),s._v(" nodejs")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("// yum -y 不用问是否安装  直接yes\nyum -y install nodejs\n")])])]),t("h4",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" nginx")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum install nginx\nnginx\n# killall -9 nginx 杀掉端口号\n# 如果客户端不能访问服务器的Ip，多半是服务器的防火墙没关 systemctl stop firewalld\n/usr/share/nginx/html 资源加载地址\n/etc/nginx/nginx.conf 配置地址\n")])])]),t("h2",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),t("h3",{attrs:{id:"登录远程服务器-linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录远程服务器-linux"}},[s._v("#")]),s._v(" 登录远程服务器 Linux")]),s._v(" "),t("ul",[t("li",[s._v("windows 【官网下】\n"),t("ul",[t("li",[s._v("putty")]),s._v(" "),t("li",[s._v("Xshell")]),s._v(" "),t("li",[s._v("Cmder[cmder.net] 【Download Full】「ssh root@192.189.9.12【ip 或网址-网址不需要 http】」\n‘#’ 权限大 ‘$’权限不大")])])]),s._v(" "),t("li",[s._v("ssh 命令")])]),s._v(" "),t("h3",{attrs:{id:"行编辑器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行编辑器"}},[s._v("#")]),s._v(" 行编辑器")]),s._v(" "),t("p",[s._v("vi/vim")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("i\nesc\n:wq\nq! 【不保存，强制退出】\nvi + /ass enter【光标会落在ass上】\nexit 退出服务器\n")])])]),t("h3",{attrs:{id:"服务管理命令-systemctl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务管理命令-systemctl"}},[s._v("#")]),s._v(" 服务管理命令 systemctl")]),s._v(" "),t("p",[s._v("防火墙 firewalld")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl stop mariadb  #停止MariaDB\nsystemctl restart mariadb  #重启MariaDB\nsystemctl enable mariadb  #设置开机启动\nsystemctl disable mariadb #禁止自动启动\n")])])]),t("h3",{attrs:{id:"网络管理命令-ifconfig、ip-命令、router"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网络管理命令-ifconfig、ip-命令、router"}},[s._v("#")]),s._v(" 网络管理命令 ifconfig、ip 命令、router")]),s._v(" "),t("ol",[t("li",[s._v("查看服务器 ip 地址\n"),t("code",[s._v("ip address show")])])]),s._v(" "),t("h3",{attrs:{id:"命令行下载命令-curl、wget【yum-包管理】"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行下载命令-curl、wget【yum-包管理】"}},[s._v("#")]),s._v(" 命令行下载命令 curl、wget【yum 包管理】")]),s._v(" "),t("h3",{attrs:{id:"帮助文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#帮助文档"}},[s._v("#")]),s._v(" 帮助文档")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("man systemctl | 你想了解的命令\n键盘Q 为退出   空格为下一页\n")])])]),t("h3",{attrs:{id:"ctrl-s-挂起-【-不想挂起-ctrl-p-】"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ctrl-s-挂起-【-不想挂起-ctrl-p-】"}},[s._v("#")]),s._v(" Ctrl+s 挂起 【 不想挂起 Ctrl+P 】")]),s._v(" "),t("h3",{attrs:{id:"linux-免密登录-【自动化测试需要】"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-免密登录-【自动化测试需要】"}},[s._v("#")]),s._v(" Linux 免密登录 【自动化测试需要】")]),s._v(" "),t("h4",{attrs:{id:"配置免密登录步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置免密登录步骤"}},[s._v("#")]),s._v(" 配置免密登录步骤")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/axing2015/article/details/83754785",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"mac-打开-关闭远程远程登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac-打开-关闭远程远程登录"}},[s._v("#")]),s._v(" mac 打开|关闭远程远程登录")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 开\nsudo launchctl load -w /System/Library/LaunchDaemons/ssh.plist\n# 关\nsudo launchctl load -w /System/Library/LaunchDaemons/ssh.plist\n# 查看状态 【如果没开则什么也没打印】\nsudo launchctl list | grep ssh\n")])])]),t("h5",{attrs:{id:"linux-上启动-ssh-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-上启动-ssh-服务"}},[s._v("#")]),s._v(" Linux 上启动 ssh 服务")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# 查看状态\nsystemctl status sshd\n# 打开\nsystemctl start sshd\n# 关闭\nsystemctl stop sshd\n")])])]),t("h5",{attrs:{id:"servera-免密登录-serverb-流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#servera-免密登录-serverb-流程"}},[s._v("#")]),s._v(" serverA 免密登录 serverB 流程")]),s._v(" "),t("ol",[t("li",[s._v("在 serverA 上生成一对密钥")])]),s._v(" "),t("ul",[t("li",[s._v('ssh-keygen ssh-keygen -t rsa -C "你自己的名称" -f "你自己的名称_rsa"【可直接 ssh-keygen】')])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("将公钥拷贝到 serverB, 并重命名为 authorized_keys")])]),s._v(" "),t("ul",[t("li",[s._v("scp ~/.ssh/xx_rsa.pub user@ip[name]:~/.ssh/ 【serverA】")]),s._v(" "),t("li",[s._v("cat ~/.ssh/xx_rsa.pub >> ~/.ssh/authorized_keys 【serverB】")]),s._v(" "),t("li",[s._v("chmod 700 ~/.ssh/ 【all】")]),s._v(" "),t("li",[s._v("chmod 600 ~/.ssh/authorized_keys 【all】")])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("serverA 向 serverB 发送一个连接请求，信息包括用户名、ip")])]),s._v(" "),t("ul",[t("li",[s._v("ssh root@ip[name]")])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[s._v("serverB 接收到请求，会从 authorized_keys 中查找是否有相同的用户名、IP，如果有 ServerB 会随机生成一个字符串，然后使用公钥进行加密，在发送给 ServerA")]),s._v(" "),t("li",[s._v("serverA 接收到 serverB 发来的信息后，会使用私钥进行解密，然后将解密后的字符串发送给 serverB")]),s._v(" "),t("li",[s._v("serverB 接收到 serverA 发来的信息后，会给先前生成的字符串进行对比，如果一致，就可以免密登录了。")])]),s._v(" "),t("p",[s._v("tip: 本地电脑可以做多个免密配置")]),s._v(" "),t("p",[s._v("serverA: 192.168.2.151 mac")]),s._v(" "),t("p",[s._v("serverB: 192.168.2.171 centos")]),s._v(" "),t("ol",[t("li",[s._v("生成密钥对")])]),s._v(" "),t("ul",[t("li",[s._v('ssh-keygen -t rsa -C "你自己的名称" -f "你自己的名称_rsa"')])]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("上传配置公钥")])]),s._v(" "),t("ul",[t("li",[s._v("上传公钥到服务器对应账号的 home 路劲下的.ssh/中\n"),t("ul",[t("li",[s._v('ssh-copy-id -i "公钥文件名" 用户名@服务器 ip 或域名')]),s._v(" "),t("li",[s._v("配置公钥文件访问权限为 600")])])])]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("配置本地私钥")])]),s._v(" "),t("ul",[t("li",[s._v("把第一步生成的私钥复制到你的 home 目录下的.ssh/路径下")]),s._v(" "),t("li",[s._v("配置你的私钥文件访问权限为 600")]),s._v(" "),t("li",[s._v("chmod 600 你的私钥文件名")])]),s._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[s._v("免密登录功能的本地配置文件")])]),s._v(" "),t("ul",[t("li",[s._v("编辑自己 home 目录的.ssh/路径下的 config 文件")]),s._v(" "),t("li",[s._v("配置 config 文件的访问权限为 644")])]),s._v(" "),t("p",[s._v("scp 【两个电脑之间复制】\nscp ./name root@xxxx:/home/zhangsan\nscp -r ./目录明 root@xxxx:/home/zhangsan")])])}),[],!1,null,null,null);a.default=r.exports}}]);