(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{610:function(t,a,s){"use strict";s.r(a);var e=s(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mongodb-概念解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-概念解析"}},[t._v("#")]),t._v(" MongoDB 概念解析")]),t._v(" "),s("h2",{attrs:{id:"mongodb-是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-是什么"}},[t._v("#")]),t._v(" MongoDB 是什么")]),t._v(" "),s("ul",[s("li",[t._v("由 C++编写，是一个基于分布式文件存储的开源数据库系统")]),t._v(" "),s("li",[t._v("旨在为 WEB 应用提供可扩展的高性能数据存储解决方案")]),t._v(" "),s("li",[t._v("在高负载的情况下，可以添加更多的节点来保证服务器性能")]),t._v(" "),s("li",[t._v("MongoDB 将数据存储为一个文档，数据结构由键值（key=>value）对组成。MongoDB 文档类似于 json 对象。字段值可以包含其他文档，数组及文档数组")])]),t._v(" "),s("h2",{attrs:{id:"mongodb-特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-特性"}},[t._v("#")]),t._v(" MongoDB 特性")]),t._v(" "),s("ul",[s("li",[t._v("层级 Database-Collection-Document")]),t._v(" "),s("li",[t._v("灵活的类 JSON 数据存储，每条文档的字段可以完全不同")]),t._v(" "),s("li",[t._v("方便的即席查询("),s("code",[t._v("ad hoc queries")]),t._v(")、索引("),s("code",[t._v("indexing")]),t._v(")和实时聚合("),s("code",[t._v("aggregation")]),t._v(")")]),t._v(" "),s("li",[t._v("使用"),s("code",[t._v("update()")]),t._v("命令可以实现替换完成的文档（数据）或者一些指定的数据字段")]),t._v(" "),s("li",[t._v("MongoDB 允许在服务端执行脚本")])]),t._v(" "),s("h2",{attrs:{id:"文档、集合、数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文档、集合、数据库"}},[t._v("#")]),t._v(" 文档、集合、数据库")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("SQL 术语/概念")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("MongoDB 术语/概念")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("解释/说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("database")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("右对齐")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("数据库")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("table")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("collection")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("数据库表/集合")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("row")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("document")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("数据记录行/文档")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("column")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("field")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("数据字段/域")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("index")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("index")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("索引")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("table joins")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("表连接，MongoDB 不支持")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("primary key")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("primary key")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("主键，MongoDB 自动将_id 自动设置为主键")])])])]),t._v(" "),s("h3",{attrs:{id:"数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),s("p",[t._v("一个 mongodb 中可以建多个数据库。\nMongoDB 的默认数据库为"),s("code",[t._v("db")]),t._v("，该数据库存储在 data 目录中。\nMongoDB 的单个实例可以容纳多个独立的数据库，每一个都有自己的集合和权限，不同的数据库也放置在不同的文件中。")]),t._v(" "),s("h4",{attrs:{id:"show-dbs命令可以显示所有数据的列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#show-dbs命令可以显示所有数据的列表"}},[t._v("#")]),t._v(" "),s("code",[t._v("show dbs")]),t._v("命令可以显示所有数据的列表")]),t._v(" "),s("p",[t._v("有啥数据库")]),t._v(" "),s("div",{staticClass:"language-Shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("MongoDB shell version: "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.0")]),t._v(".6\nconnectiong to: "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" show dbs\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".078GB\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".078GB\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" db "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取当前的数据库对象或集合")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" use "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 运行 use 命令，可以连接到一个指定的数据库")]),t._v("\nswitched to db "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" db\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v("\n")])])]),s("h5",{attrs:{id:"数据库列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库列表"}},[t._v("#")]),t._v(" 数据库列表")]),t._v(" "),s("ul",[s("li",[t._v('不能是空字符串（""）')]),t._v(" "),s("li",[t._v("不能含义 ``空格、"),s("code",[t._v(".")]),t._v("、"),s("code",[t._v("$")]),t._v("、"),s("code",[t._v("/")]),t._v("、"),s("code",[t._v("\\")]),t._v("和"),s("code",[t._v("\\0")])]),t._v(" "),s("li",[t._v("应全部小写")]),t._v(" "),s("li",[t._v("最多 64 字节")]),t._v(" "),s("li",[t._v("admin, local, config 都是数据库保留名称\n"),s("ul",[s("li",[t._v("admin: 从权限角度来看，这是"),s("code",[t._v("root")]),t._v("数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有数据库或关闭服务器。")]),t._v(" "),s("li",[t._v("local: 这个数据库永远不会被复制。可以用来存储限于本地单台服务器的任意集合。")]),t._v(" "),s("li",[t._v("config: 当 Mongo 用于发片设置时，config 数据库在内部使用，用于保存发片的相关信息。")])])])]),t._v(" "),s("h3",{attrs:{id:"文档-document"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文档-document"}},[t._v("#")]),t._v(" 文档（Document）")]),t._v(" "),s("p",[t._v("文档是一组键值对(key-value, 即 BSON)。MongoDB 的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型，这与关系型数据库有很大区别，也是 MongoDB 非常突出特点。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"site"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"www.runoob.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"菜鸟教程"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("RDBMS")]),t._v("和"),s("code",[t._v("MongoDB")]),t._v("对应术语：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("RDBMS")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("MongoDB")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("数据库")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("数据库")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("表单")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("集合")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("行")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("文档")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("列")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("字段")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("表联合")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("嵌入文档")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("主键")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("主键（MongoDB 提供了 key 位_id）")])])])]),t._v(" "),s("h4",{attrs:{id:"数据库服务和客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库服务和客户端"}},[t._v("#")]),t._v(" 数据库服务和客户端")]),t._v(" "),s("p",[t._v("| MysqlId/Oracle | mongod |\n| mysql/sqlplus | mongo |")]),t._v(" "),s("h4",{attrs:{id:"注意点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意点"}},[t._v("#")]),t._v(" 注意点：")]),t._v(" "),s("ul",[s("li",[t._v("文档中的键/值对是有序的。")]),t._v(" "),s("li",[t._v("文档中的值不仅可以是在双引号里面的字符串，还可以是其他几种数据类型（甚至可以是整个嵌入的文档）。")]),t._v(" "),s("li",[t._v("MongoDB 区分类型和大小写。")]),t._v(" "),s("li",[t._v("MongoDB 的文档不能有重复的键。")]),t._v(" "),s("li",[t._v("文档的键是字符串。除了少数例外情况，键可以使用任意 UTF-8 字符。")])]),t._v(" "),s("h4",{attrs:{id:"文档键命名规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文档键命名规范"}},[t._v("#")]),t._v(" 文档键命名规范：")]),t._v(" "),s("ul",[s("li",[t._v("键不能含义\\0（空字符）。这个字符用来表示键的结尾。")]),t._v(" "),s("li",[t._v(".和 $有特别的意义，只有在特定环境下才能使用。")]),t._v(" "),s("li",[t._v("以下划线"),s("code",[t._v("_")]),t._v("开头的键是保留的（不是严格要求）")])]),t._v(" "),s("h2",{attrs:{id:"集合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集合"}},[t._v("#")]),t._v(" 集合")]),t._v(" "),s("p",[t._v("集合就是 MongDB 文档组，类似于"),s("code",[t._v("RDBMS")]),t._v("(关系型数据库管理系统：Relational Database Management System)中的表格。\n集合存在于数据库中，集合没有固定的结构，这意味着你对集合可以插入不同格式或类型的数据，但通常情况下我们插入集合数据都会有一定的关联性。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("db.COLLECTION_NAME.insert(document)")]),t._v("\n这里的 document 是一个文档对象，如"),s("code",[t._v('document=({name: "iPhone", category:"cellphone",value: 5000})')])])]),t._v(" "),s("p",[s("strong",[t._v("db.COLLECTION_NAME.remove")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLLECTION_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  justOne"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  writeConcern"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("query")]),t._v(": 可选，删除的文档的条件")]),t._v(" "),s("li",[s("code",[t._v("justOne")]),t._v(": 可选，如果设为 true 或 1,则只删除一个文档")]),t._v(" "),s("li",[s("code",[t._v("writeConcern")]),t._v(": 可选，抛出异常的级别")])]),t._v(" "),s("p",[s("strong",[t._v("db.COLLECTION_NAME.update")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLLECTION_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  upset"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  multi"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  writeConcern"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("query: update 的查询条件")]),t._v(" "),s("li",[t._v("update: update 的对象和一些更新的操作符(如：$set, $inc)")]),t._v(" "),s("li",[t._v("upsert: 可选，这个参数的意思是：如果不存在 update 的记录，是否插入，true 为插入，false 为不插入")]),t._v(" "),s("li",[t._v("multi: 可选，MongoDB 默认为 false，只更新找到的第一条记录，如果这个参数为 true，就把按条件查出来多条记录全部更新")]),t._v(" "),s("li",[t._v("writeConcern: 可选，抛出异常级别")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("col"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name: "')]),t._v('iPhone"\n'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  $set"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6000")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  multi"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("db.COLLECTION_NAME.save")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLLECTION_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    writeConcern"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("db.COLLECTION_NAME.fine")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COLLECTION_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fine")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" project"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("query: 可选，使用查询操作符指定查询条件")]),t._v(" "),s("li",[t._v("projection: 可选，使用投影操作指定返回的键。查询时返回文档中所有键值，只需省略该参数即可（默认省略）")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("db.COLLECTION_NAME.find(\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iPhone"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"_id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n)\n")])])]),s("ul",[s("li",[t._v("MongoDB 的 find() 方法可以传入多个键(key)，每个键(key)以逗号隔 开，即常规 SQL 的 AND 条件\n"),s("code",[t._v("db.COLLECTION_NAME.find({key1:value1, key2:value2})")])]),t._v(" "),s("li",[t._v("MongoDB OR 条件语句使用了关键字 $or\n"),s("code",[t._v("db.COLLECTION_NAME.find( { $or: [ {key1: value1}, {key2:value2} ] } )")])]),t._v(" "),s("li",[t._v("联合使用示例:\n"),s("code",[t._v('db.col.find({"value": {$gt:2000}, $or: [{"category": "cellphone"},{"name": "iPhone"}]}).pretty()')])]),t._v(" "),s("li",[t._v("排序(sort)\n"),s("ul",[s("li",[t._v("在 MongoDB 中使用 sort() 方法对数据进行排序，可以通过参数指定排序的字段，并使用 1 和 -1 来指定排序的方式，其中 1 为升序排列，而 -1 是用于 降序")]),t._v(" "),s("li",[s("code",[t._v("db.COLLECTION_NAME.find().sort({KEY:1})")])])])]),t._v(" "),s("li",[t._v("索引(index)\n"),s("ul",[s("li",[t._v("MongoDB 使用 createIndex() 方法来创建索引")]),t._v(" "),s("li",[s("code",[t._v("db. COLLECTION_NAME.createIndex( keys, options )")])]),t._v(" "),s("li",[t._v('db.col.createIndex({"title":1,"description":-1})')])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);