(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{555:function(a,t,e){"use strict";e.r(t);var s=e(44),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"npx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npx"}},[a._v("#")]),a._v(" npx")]),a._v(" "),e("p",[a._v("npm 从 5.2 版本开始，增加了 npx 命令，Node 自带 npm 模块，所以可以直接使用 npx 命令，万一不能用，可以手动安装一下：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npm install -g npx\n")])])]),e("ul",[e("li",[a._v("npx 想要解决的主要问题，就是调用项目内部安装的模块。")])]),a._v(" "),e("h2",{attrs:{id:"调用项目安装模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用项目安装模块"}},[a._v("#")]),a._v(" 调用项目安装模块")]),a._v(" "),e("p",[a._v("这是用 npm 安装并调用")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npm install -D mocha\n// package.json  scripts\nnode-modules/.bin/mocha --version\n")])])]),e("p",[a._v("而 npx 可 "),e("code",[a._v("npx mocha --version")]),a._v("这样调用\nnpx 原理是：运行的时候，会到"),e("code",[a._v("node_modules/.bin")]),a._v("路劲和环境变量"),e("code",[a._v("$path")]),a._v("里检查变量是否存在。\nBash 内置命令不在"),e("code",[a._v("$path")]),a._v("里，例如 "),e("code",[a._v("npx ls")]),a._v(" 可以 "),e("code",[a._v("npx cd")]),a._v(" 找不到")]),a._v(" "),e("h2",{attrs:{id:"避免全局安装模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#避免全局安装模块"}},[a._v("#")]),a._v(" 避免全局安装模块")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx create-react-app my-react-app\n")])])]),e("p",[a._v("像上面的代码，npx 会将 create-react-app 下载到一个临时目录，使用后在删除，所以再次执行上面命令，会重新下载 create-react-app。")]),a._v(" "),e("h3",{attrs:{id:"npx-容许指定版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#npx-容许指定版本"}},[a._v("#")]),a._v(" npx 容许指定版本")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx uglify-js@3.1.0 main.js -o ./dist/main.js\n")])])]),e("p",[a._v("下载指定版本的 uglify-js 压缩脚本。\nnpx 后面的模块本地没有或没发现时，会下载同名模块。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx http-server\n")])])]),e("p",[a._v("本地没有 http-server 模块，会自动下载并在当前目录启动一个 web 服务。")]),a._v(" "),e("h4",{attrs:{id:"no-install-参数和-ignore-existing-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#no-install-参数和-ignore-existing-参数"}},[a._v("#")]),a._v(" --no-install 参数和 --ignore-existing 参数")]),a._v(" "),e("p",[a._v("--no-install 强制使用本地模块，不下载远程模块【本地没有会报错】\n--ignore-existing 强制使用远程模块，不使用本地模块")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx --no-install http-server\nnpx --ignore-existing create-react-app my-react-app\n")])])]),e("h4",{attrs:{id:"使用不同版本的-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用不同版本的-node"}},[a._v("#")]),a._v(" 使用不同版本的 node")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx node@0.12.8 -v\n")])])]),e("p",[a._v("原理是从 npm 下载这个版本的 node,使用后在输掉")]),a._v(" "),e("h4",{attrs:{id:"p-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#p-参数"}},[a._v("#")]),a._v(" -p 参数")]),a._v(" "),e("p",[e("code",[a._v("-p")]),a._v("参数用于指定 npx 所要安装的模块")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx -p node@0.12.8 node -v\n")])])]),e("p",[a._v("先指定安装 node 版本，然后执行"),e("code",[a._v("node -v")]),a._v("，"),e("code",[a._v("-p")]),a._v("参数对于安装多个模块有用。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx -p lolcat.js -p cowsay [command]\n")])])]),e("h4",{attrs:{id:"c-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c-参数"}},[a._v("#")]),a._v(" -c 参数")]),a._v(" "),e("p",[a._v("-c 执行多模块")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx -p locatjs -p cowsay -c 'cowsay hello | lolcatjs'\n")])])]),e("p",[a._v("将环境变量带入所要执行的命令")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('// 查看环境变量\nnpm run env | grep npm_\nnpx -c "echo \\"$npm_package_name\\""  // 输出当前项目名称\n')])])]),e("h4",{attrs:{id:"执行-github-源码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行-github-源码"}},[a._v("#")]),a._v(" 执行 GitHub 源码")]),a._v(" "),e("p",[a._v("tips: 远程代码必须是一个模块，必须包含 package.json 和入口脚本")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32\n\nnpx github:piuccio/cowsay hello\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);