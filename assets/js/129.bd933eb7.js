(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{531:function(n,t,e){"use strict";e.r(t);var a=e(44),r=Object(a.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"工作中常用的工具类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#工作中常用的工具类"}},[n._v("#")]),n._v(" 工作中常用的工具类")]),n._v(" "),e("h2",{attrs:{id:"输入框为数字"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入框为数字"}},[n._v("#")]),n._v(" 输入框为数字")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('export function inputNumStyleValue(value, exp) {\n  let v = value\n    .replace(/[^0-9\\.]/, "")\n    .replace(/^0{1,}/, "0")\n    .replace(/^(0)([1-9])/, ($1, $2) => {\n      return $2;\n    })\n    .replace(/^\\./, "0.");\n  let d = v.split(".");\n  if (d[1] && d[1].length > exp) {\n    console.log(111, d[1].slice(0, exp))\n    v = d[0] + "." + d[1].slice(0, exp);\n  }\n  if (v && !isFloat(v)) {\n    return;\n  }\n  console.log({ v })\n  return v;\n}\n')])])]),e("h2",{attrs:{id:"显示数字"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示数字"}},[n._v("#")]),n._v(" 显示数字")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("function toNonExponential(num) {\n  let m = num.toExponential().match(/\\d(?:\\.(\\d*))?e([+-]\\d+)/);\n  return num.toFixed(Math.max(0, (m[1] || '').length - m[2]));\n}\n\n\nexport function accFloorInfo(value = 0, exp = 8) {\n  if (String(Number(value)) === 'NaN' || value == '') {\n    return ''\n  }\n  if (String(value).indexOf('.') > -1 && !String(value).split('.')[1]) {\n    return value\n  }\n  if (Number(value) === 0) {\n    return String(value);\n  }\n  let val = String(parseFloat(Number(value)))\n\n  if (val.indexOf('e') !== -1) {\n    val = toNonExponential(+val)\n  }\n  if (exp === 0) {\n    return val.split('.')[0]\n  }\n  let pointval = val.split('.')[1]\n  if (pointval) {\n    for (let i = 0; i < 12; i++) {\n      if (pointval.charAt(pointval.length - 1) === '0') {\n        pointval = pointval.substr(0, pointval.length - 1)\n      }\n    }\n  }\n  const num002 = pointval ? String(pointval).length > 0 ? '.' + String(pointval).substring(0, exp) : '' : ''\n  return val.split('.')[0] + num002\n}\n")])])]),e("h2",{attrs:{id:"_0-001-小数点位数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-001-小数点位数"}},[n._v("#")]),n._v(" 0.001 小数点位数")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("export function numberSplit(str) {\n  if (+str >= 1) {\n    return str.split('.')[0];\n  } else {\n    let tepmlue = parseFloat(str);\n    let result = tepmlue.toString();\n    if (result.indexOf('e') !== -1) {\n      result = toNonExponential(+result)\n    }\n    return result.split('.')[1].length;\n    // return str.replace(/(\\.\\d+[1-9])0+$/, '$1');\n  }\n};\n")])])]),e("h2",{attrs:{id:"判断能不能被json-parse解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#判断能不能被json-parse解析"}},[n._v("#")]),n._v(" 判断能不能被"),e("code",[n._v("JSON.parse")]),n._v("解析")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("function isJson(str) {\n  if (typeof str == 'string') {\n    try {\n      JSON.parse(str);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n}\n")])])]),e("h2",{attrs:{id:"保留小数点-n-位-并规避科学计数法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#保留小数点-n-位-并规避科学计数法"}},[n._v("#")]),n._v(" 保留小数点 n 位，并规避科学计数法")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('function digits(v, d = 0) {\n  let a = ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"];\n  if (!v && v !== 0) {\n    if (!d) return v;\n    a.length = d;\n    return "0." + a.join("");\n  }\n  if (d === 0 || d === "0" || !d || !Number(d)) {\n    return Math.floor(v);\n  }\n  // 整数截取\n  if (d <= 0) {\n    let r = math\n      .chain(v)\n      .multiply(\n        math\n          .chain(math.pow(10, math.bignumber(d)))\n          .format({ notation: "fixed" })\n          .done()\n      )\n      .format({ notation: "fixed" })\n      .done();\n    r = Math.floor(r);\n    r = math\n      .chain(r)\n      .divide(\n        math\n          .chain(math.pow(10, math.bignumber(d)))\n          .format({ notation: "fixed" })\n          .done()\n      )\n      .format({ notation: "fixed" })\n      .done();\n    return r;\n  }\n  let s = v;\n  if (`${s}`.indexOf(\'e\') !== -1) {\n    let m = s.toExponential().match(/\\d(?:\\.(\\d*))?e([+-]\\d+)/);\n    s = s.toFixed(Math.max(0, (m[1] || \'\').length - m[2]));\n  }\n  let c = `${s}`.split(".");\n  if (!c[1]) {\n    c[1] = "";\n  }\n  if (c[1].length == d) {\n    return s;\n  }\n  if (c[1].length < d) {\n    a.length = d - c[1].length;\n    return c[1] ? s + a.join("") : a.length ? s + "." + a.join("") : s;\n  }\n  if (c[1].length > d) {\n    c[1] = c[1].split("");\n    c[1].length = d;\n    return c[0] + "." + c[1].join("");\n  }\n  return v;\n}\n')])])]),e("h2",{attrs:{id:"对象排序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对象排序"}},[n._v("#")]),n._v(" 对象排序")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('var compare = function (prop) {\n  return function (obj1, obj2) {\n    var val1 = obj1[prop];\n    var val2 = obj2[prop]; if (val1 < val2) {\n      return -1;\n    } else if (val1 > val2) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n}\ndata.sort(compare("symbolName"))\n')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);