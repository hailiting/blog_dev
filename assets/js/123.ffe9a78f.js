(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{525:function(a,t,s){"use strict";s.r(t);var e=s(44),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"不可不知的-babel-基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不可不知的-babel-基础"}},[a._v("#")]),a._v(" 不可不知的 babel 基础")]),a._v(" "),s("p",[a._v("摘自："),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/43249121",target:"_blank",rel:"noopener noreferrer"}},[a._v("知乎"),s("OutboundLink")],1),a._v("\nbabel 有好多相关的名词")]),a._v(" "),s("ul",[s("li",[a._v("babel-cli")]),a._v(" "),s("li",[a._v("babel-core")]),a._v(" "),s("li",[a._v("babel-runtime")]),a._v(" "),s("li",[a._v("babel-node")]),a._v(" "),s("li",[a._v("babel-polyfill")]),a._v(" "),s("li",[a._v("...")])]),a._v(" "),s("h2",{attrs:{id:"所以-babel-到底是干嘛的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#所以-babel-到底是干嘛的"}},[a._v("#")]),a._v(" 所以 babel 到底是干嘛的")]),a._v(" "),s("p",[a._v("可以说 Babel 是一个工具链，主要将 ES2015+的代码转换为向后兼容的 JavaScript 语法，以便运行在当前或旧的版本浏览器或其他环境中。")]),a._v(" "),s("h2",{attrs:{id:"怎么用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#怎么用"}},[a._v("#")]),a._v(" 怎么用")]),a._v(" "),s("ul",[s("li",[s("ol",[s("li",[a._v("使用单体文件（standalone script）")])])]),a._v(" "),s("li",[s("ol",{attrs:{start:"2"}},[s("li",[a._v("命令行（cli）")])])]),a._v(" "),s("li",[s("ol",{attrs:{start:"3"}},[s("li",[a._v("构建工具的插件（webpack 的"),s("code",[a._v("babel-loader")]),a._v(", rollup 的"),s("code",[a._v("rollup-plugin-babel")]),a._v("）")])])])]),a._v(" "),s("p",[a._v("第二种常见于"),s("code",[a._v("package.json")]),a._v("中的 scripts 段落中的某条命令，第三种直接集成到构建工具中")]),a._v(" "),s("h2",{attrs:{id:"运行方式和插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行方式和插件"}},[a._v("#")]),a._v(" 运行方式和插件")]),a._v(" "),s("p",[a._v("babel 总共分为三个阶段：解析，转换，生成。"),s("br"),a._v("\nbabel 本身是不具有任何转换功能的，它把转化的功能分解到一个个 plugin 里，因此当我们不配置任何插件的时候，经过 babel 的代码和输入是相同的。"),s("br"),a._v("\n插件总共分为两种：")]),a._v(" "),s("ul",[s("li",[a._v("当我们添加"),s("strong",[a._v("语法插件")]),a._v("后，在解析的这一步就使得 babel 能够解析更多语法（babel 内部使用的解析类库叫"),s("code",[a._v("babylon")]),a._v("，并非 babel，但 babel7 时被 babel 收入了）")]),a._v(" "),s("li",[a._v("当我们添加"),s("strong",[a._v("转译插件")]),a._v("后，在转换这一步把源码转换并输出。\n比如 箭头函数"),s("code",[a._v("(a)=>a")]),a._v(" 就会转化为"),s("code",[a._v("function(a){return a}")]),a._v("，完成这个工作的插件叫做"),s("code",[a._v("babel-plugin-transform-es2015-arrow-functions")]),a._v("（babel7 命名规范把"),s("code",[a._v("-es2015-")]),a._v("，"),s("code",[a._v("-es3-")]),a._v("之类的删除了， 直接变为"),s("code",[a._v("@babel/plugin-transform-arrow-functions")]),a._v("）"),s("br"),a._v("\n同一类语法可能同时存在语法插件版本和编译插件版本，** 如果使用了转译插件，就不能再使用语法插件 **")])]),a._v(" "),s("h2",{attrs:{id:"文件配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件配置"}},[a._v("#")]),a._v(" 文件配置")]),a._v(" "),s("p",[a._v("总共两个步骤")]),a._v(" "),s("ul",[s("li",[a._v("将插件的名字增加到配置文件中（根目录下创建"),s("code",[a._v(".babelrc")]),a._v("或"),s("code",[a._v("package.json")]),a._v("的 babel 里，格式相同）")]),a._v(" "),s("li",[a._v("使用"),s("code",[a._v("npm i babel-plugin-xx")]),a._v("进行安装")])]),a._v(" "),s("h3",{attrs:{id:"preset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preset"}},[a._v("#")]),a._v(" "),s("code",[a._v("preset")])]),a._v(" "),s("p",[a._v("preset 分为以下几种")]),a._v(" "),s("ul",[s("li",[a._v("官方内容：包括"),s("code",[a._v("env")]),a._v(","),s("code",[a._v("react")]),a._v(","),s("code",[a._v("flow")]),a._v(","),s("code",[a._v("minify")]),a._v("等")]),a._v(" "),s("li",[a._v("stage-x(babel7 已经去除)\n"),s("ul",[s("li",[a._v("stage0 - 稻草人，只是一个想法，tc39 成员提出")]),a._v(" "),s("li",[a._v("stage1 - 提案：初步试试")]),a._v(" "),s("li",[a._v("stage2 - 初稿：完成初步规范")]),a._v(" "),s("li",[a._v("stage3 - 候选")]),a._v(" "),s("li",[a._v("stage4 - 完成 stage-4 在下一年会直接放到 env，所以没有单独的 stage-4 可用")])])]),a._v(" "),s("li",[a._v("es201x, latest （不建议使用）")])]),a._v(" "),s("h3",{attrs:{id:"执行顺序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行顺序"}},[a._v("#")]),a._v(" 执行顺序")]),a._v(" "),s("p",[a._v("很简单的几条原则")]),a._v(" "),s("ul",[s("li",[a._v("plugin 会一下在 preset 之前")]),a._v(" "),s("li",[a._v("plugin 会从前到后顺序执行")]),a._v(" "),s("li",[a._v("preset 的顺序则"),s("strong",[a._v("刚好相反")]),a._v("(从后向前)")])]),a._v(" "),s("h3",{attrs:{id:"插件和-preset-的配置项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件和-preset-的配置项"}},[a._v("#")]),a._v(" 插件和 preset 的配置项")]),a._v(" "),s("div",{staticClass:"language-.babelrc extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n  "presets": [\n    ["@babel/preset-env", {\n      "targets": {\n        "browsers": ["last 2 versions", "safari >= 7"]\n      }\n    },]\n    // "stage-2"\n  ],\n}\n')])])]),s("div",{staticClass:"language-.babelrc extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('{\n  "presets": [\n    ["@babel/env", {\n      "targets": {\n        "node": "6.10"\n      }\n    }]\n  ]\n}\n')])])]),s("h3",{attrs:{id:"babel-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-cli"}},[a._v("#")]),a._v(" babel-cli")]),a._v(" "),s("p",[a._v("安装了"),s("code",[a._v("babel-cli")]),a._v("就能够在命令行中使用"),s("code",[a._v("babel")]),a._v("命令来编译文件\n把"),s("code",[a._v("babel-cli")]),a._v("安装为"),s("code",[a._v("devDependencies")])]),a._v(" "),s("h3",{attrs:{id:"babel-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-node"}},[a._v("#")]),a._v(" babel-node")]),a._v(" "),s("p",[a._v("babel7 把 babel-node 从 babel-cli 分离出来"),s("br"),a._v("\n作用是在 node 环境中，直接运行 es2015 代码，而不需要额外进行转码"),s("br"),a._v(" "),s("code",[a._v("babel-node = babel-polyfill+babel-register")])]),a._v(" "),s("h3",{attrs:{id:"babel-register"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-register"}},[a._v("#")]),a._v(" babel-register")]),a._v(" "),s("p",[a._v("babel-register 模块改写"),s("code",[a._v("require")]),a._v("命令，为她加上一个钩子，每当"),s("code",[a._v("require")]),a._v("js 模块时，就会先用 babel 进行转码")]),a._v(" "),s("ul",[s("li",[a._v("只会对"),s("code",[a._v("require")]),a._v("命令加载的文件转码，而不会对当前 的文件转码")]),a._v(" "),s("li",[a._v("它属于实时转码，所以只适合开发环境")])]),a._v(" "),s("h3",{attrs:{id:"babel-polyfill"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill"}},[a._v("#")]),a._v(" babel-polyfill")]),a._v(" "),s("p",[a._v("如果想在 es5-上用 es5+的语法，得用"),s("code",[a._v("babel-polyfill")]),a._v("（内部集成了"),s("code",[a._v("core-js")]),a._v("和"),s("code",[a._v("regenerator")]),a._v("）")]),a._v(" "),s("ul",[s("li",[a._v("常规操作是在"),s("code",[a._v("webpack.config.js")]),a._v("中将"),s("code",[a._v("babel-polyfill")]),a._v("作为第一个 entry。因此"),s("code",[a._v("babel-polyfill")]),a._v("作为 "),s("code",[a._v("dependencies")]),a._v(" 而不是 "),s("code",[a._v("devDependencies")])])]),a._v(" "),s("h4",{attrs:{id:"babel-polyfill-两个缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill-两个缺点"}},[a._v("#")]),a._v(" babel-polyfill 两个缺点")]),a._v(" "),s("ul",[s("li",[a._v("包大，可以单独使用"),s("code",[a._v("core-js")]),a._v("的某个类库解决")]),a._v(" "),s("li",[a._v("会污染全局变量，给很多类的原型链上做修改")])]),a._v(" "),s("p",[a._v("所以实际开发中使用"),s("code",[a._v("babel-plugin-transform-runtime")])]),a._v(" "),s("h3",{attrs:{id:"babel-plugin-transform-runtime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-transform-runtime"}},[a._v("#")]),a._v(" babel-plugin-transform-runtime")]),a._v(" "),s("p",[a._v("在未使用 babel-plugin-transform-runtime，以"),s("code",[a._v("async/await")]),a._v("为例，babel 后")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// babel添加一个方法，把async转化为generator")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("_asyncToGenerator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 具体使用处")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" _ref "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("_asyncToGenerator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("arg1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" arg2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("yield")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" something"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("arg1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" arg2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("也就是说，每一个被转化的文件都会包含_asyncToGenerator，这导致重复和浪费。"),s("br"),a._v("\n在使用了"),s("code",[a._v("babel-plugin-transform-runtime")]),a._v("后，转化后的代码会变为")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 从直接定义改为引用，这样就不会重复定义了")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" _asyncToGenerator2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"babel-runtime/helpers/asyncToGenerator"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" _asyncToGenerator3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("_interopRequireDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("_asyncToGenerator2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 具体使用处")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" _ref "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("_asyncToGenerator3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("arg1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" arg2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("yield")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" something"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("arg1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" arg2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("从定义方法改为引用，那重复定义就变为重复引用，就不存在代码重复的问题了")]),a._v(" "),s("h3",{attrs:{id:"babel-runtime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-runtime"}},[a._v("#")]),a._v(" babel-runtime")]),a._v(" "),s("p",[a._v("内部集成了：")]),a._v(" "),s("ul",[s("li",[a._v("core-js: 转换一些内置类 (Promise, Symbols 等等) 和静态方法 (Array.from 等)。绝大部分转换是这里做的。自动引入。")]),a._v(" "),s("li",[a._v("regenerator: 作为"),s("code",[a._v("core-js")]),a._v("的补漏，主要是"),s("code",[a._v("generator/yield")]),a._v(","),s("code",[a._v("async/await")]),a._v("两组的支持，当代码有"),s("code",[a._v("generator/yield")]),a._v(","),s("code",[a._v("async/await")]),a._v("时自动引入")]),a._v(" "),s("li",[a._v("helpers 上面的"),s("code",[a._v("asyncToGenerator")]),a._v("就是，避免重复代码")])]),a._v(" "),s("h3",{attrs:{id:"babel-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-loader"}},[a._v("#")]),a._v(" babel-loader")]),a._v(" "),s("p",[a._v("用到构建工具里（如：webpack、rollup），进行代码的构建和压缩(uglify),babel-loader 也是读取"),s("code",[a._v(".babelrc")]),a._v("或"),s("code",[a._v("package.json")]),a._v("里的 babel 配置")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// webpack")]),a._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  rules"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      test"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[a._v("\\.js$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      exclude"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[a._v("(node_modules|bower_components)")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"babel-loader"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("p",[a._v("如果想在这里传入 babel 的配置项，可以改为如下")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('// loader: "babel-loader"')]),a._v("\nuse"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  loader"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"babel-loader"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  options"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 配置")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h3",{attrs:{id:"babel-upgrade"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel-upgrade"}},[a._v("#")]),a._v(" babel-upgrade")]),a._v(" "),s("p",[a._v("自动化的帮助用户把 babel6 升级到 7"),s("br"),a._v("\n用法：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("npx babel-upgrade --write\n")])])]),s("h2",{attrs:{id:"babel7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel7"}},[a._v("#")]),a._v(" # babel7")]),a._v(" "),s("p",[a._v("babel 7 版本一般都是以"),s("code",[a._v("@babel")]),a._v("开头")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[a._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"babel src -d lib"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"devDependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/cli"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^7.10.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/core"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^7.10.2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-transform-runtime"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^7.10.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/preset-env"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"^7.10.2"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),a._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"presets"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/preset-env"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"plugins"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-transform-runtime"')]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);