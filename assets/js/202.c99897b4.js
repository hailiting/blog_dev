(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{611:function(s,t,a){"use strict";a.r(t);var n=a(44),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql-mac-系统安装设置及卸载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql-mac-系统安装设置及卸载"}},[s._v("#")]),s._v(" MySQL Mac 系统安装设置及卸载")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://dev.mysql.com/downloads/workbench/",target:"_blank",rel:"noopener noreferrer"}},[s._v("workbench"),a("OutboundLink")],1),s._v("官方管理 MySQL 图形 app\ntips: MySQL 不能用简单的密码，而是 8 位以上密友复杂度")])]),s._v(" "),a("h2",{attrs:{id:"brew-下载及安装过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#brew-下载及安装过程"}},[s._v("#")]),s._v(" brew 下载及安装过程")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql\nmysql.server start\nmysql_secure_installation\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给mysql权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" -R "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /usr/local/Cellar/mysql\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" g+w ./assets/\n")])])]),a("h2",{attrs:{id:"修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),a("ul",[a("li",[s._v("首先关闭 MySQL")]),s._v(" "),a("li",[s._v("进入终端，获取管理员权限")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/mysql/bin/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止mysql验证功能")]),s._v("\n./mysqld_safe --skip-grant-tables"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用workbench随便创建连接，然后用 已存在的用户名(root) 创建一个连接")]),s._v("\n./mysqladmin -u root -p password 123456hai // 更改root用户密码\n")])])]),a("h3",{attrs:{id:"方法一-使用-alter-修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一-使用-alter-修改"}},[s._v("#")]),s._v(" 方法一：使用 alter 修改")]),s._v(" "),a("p",[s._v("修改数据库名或修改数据表字段")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("# 修改用户口令，将用户口令修改为新密码\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" role_name "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("REPLACE")]),s._v(" pre_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"方法二-使用-set-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二-使用-set-password"}},[s._v("#")]),s._v(" 方法二：使用 set password")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SET PASSWORD FOR "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456hai"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"方法三-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法三-update"}},[s._v("#")]),s._v(" 方法三：update")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" UPDATE mysql.user SET authentication_string "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Marry583"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"方法四-mysql-secure-installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法四-mysql-secure-installation"}},[s._v("#")]),s._v(" 方法四：mysql_secure_installation")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("root"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql_secure_installation")]),s._v("\n")])])]),a("h3",{attrs:{id:"方法五-skip-grant-tables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法五-skip-grant-tables"}},[s._v("#")]),s._v(" 方法五：skip-grant-tables")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/mysql/bin/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止mysql验证功能")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": mysql\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/my.cnf  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用完后去掉")]),s._v("\nskip-grant-tables"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": systemctl  restart mysql\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": mysql\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11111"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ALTER "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Tom579#$%^&'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" flush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h2",{attrs:{id:"修改密码规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改密码规则"}},[s._v("#")]),s._v(" 修改密码规则")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("use mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nshow tables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nselect user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" host "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DISTINCT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CONCAT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'User: '")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@'")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("AS")]),s._v(" query "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FROM")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n# 查看规则\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SHOW")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VARIABLES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LIKE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'validate_password%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nalter user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" identified "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" mysql_native_password by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456hai'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n#设置密码强弱等级\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("policy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#设置密码长度\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#设置密码检查开关\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("check_user_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OFF")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#设置密码包含数字个数\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("number_count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#设置密码特殊字符个数\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("special_char_count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#刷新\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FLUSH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PASSWORD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("EXPIRE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NEVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #修改加密规则 \n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #更新一下用户的密码 \n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FLUSH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #刷新权限\n\nalter user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xzx123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("#重置密码，xzx123456就是变更后的密码，自己的密码自己更改下哦\n")])])]),a("h2",{attrs:{id:"mysql8-0-登录连接报错-caching-sha2-password-解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql8-0-登录连接报错-caching-sha2-password-解决方法"}},[s._v("#")]),s._v(" MySQL8.0 登录连接报错 caching_sha2_password 解决方法")]),s._v(" "),a("h3",{attrs:{id:"一-mysql-设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-mysql-设置"}},[s._v("#")]),s._v(" 一 mysql 设置")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("# 进入mysql\nmysql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("uroot "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p123456\nuse mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nshow tables"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nselect user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n# 查看身份验证类型\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SELECT")]),s._v(" Host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" plugin "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#设置密码强弱等级\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("policy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n#设置密码长度\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" global validate_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n# 修改身份验证类型（修改密码）\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FLUSH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n# 验证是否生效\nuse mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SELECT")]),s._v(" Host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" User"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" plugin "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h4",{attrs:{id:"二-修改mysql-cnf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-修改mysql-cnf"}},[s._v("#")]),s._v(" 二：修改"),a("code",[s._v("mysql.cnf")])]),s._v(" "),a("h2",{attrs:{id:"跳过权限认证-免密进入数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳过权限认证-免密进入数据库"}},[s._v("#")]),s._v(" 跳过权限认证，免密进入数据库")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysqld"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ndefault_authentication_plugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mysql_native_password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入数据库指令文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/mysql/bin\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跳过权限认证")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ./mysqld_safe --skip-grant-tables "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化数据库")]),s._v("\nmysql_secure_installation\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行mysql指令")]),s._v("\n/usr/local/mysql/bin/mysql\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入名为<mysql>的数据库")]),s._v("\nuse mysql\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 刷新权限")]),s._v("\nflush privileges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改密码 但不适用于8.0+的版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# set password for "root"@"localhost"=password("123456hai");')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8.0+版本修改密码")]),s._v("\nalter user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost"')]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456hai"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h2",{attrs:{id:"卸载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载"}},[s._v("#")]),s._v(" 卸载")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("brew remove mysql\nbrew uninstall mysql --force\nbrew cleanup\nlaunchctl unload -w ~/Library/LaunchAgents/com.mysql.mysqld.plist\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" ~/Library/LaunchAgents/com.mysql.mysqld.plist\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /usr/local/var/mysql\nbrew search mysql\n")])])]),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /usr/local/mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /usr/local/mysql*\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /Library/StartupItems/MySQLCOM\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /Library/PreferencePanes/My*\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/hostconfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("and removed the line "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQLCOM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-YES-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf ~/Library/PreferencePanes/My*\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /Library/Receipts/mysql*\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /Library/Receipts/MySQL*\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /var/db/receipts/com.mysql.*\n")])])]),a("h2",{attrs:{id:"常见的-mysql-问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的-mysql-问题"}},[s._v("#")]),s._v(" 常见的 mysql 问题")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Access denied for user'root'@'localhost' (using password: YES)")]),s._v(" "),a("ul",[a("li",[s._v("说明你的 root 权限不够")])])])]),s._v(" "),a("h3",{attrs:{id:"mysqld-safe-a-mysqld-process-already-exists"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysqld-safe-a-mysqld-process-already-exists"}},[s._v("#")]),s._v(" "),a("code",[s._v("mysqld_safe A mysqld process already exists")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看mysql当前进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysqld\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill 进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46912")]),s._v("\n")])])]),a("h3",{attrs:{id:"plugin-caching-sha2-password-could-not-be-loaded"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-caching-sha2-password-could-not-be-loaded"}},[s._v("#")]),s._v(" "),a("code",[s._v("Plugin caching_sha2_password could not be loaded:")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PASSWORD")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("EXPIRE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NEVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #修改加密规则 \n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IDENTIFIED")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #更新一下用户的密码 \n\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FLUSH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" #刷新权限\n\nalter user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" identified by "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xzx123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("#重置密码，xzx123456就是变更后的密码，自己的密码自己更改下哦\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);