<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端性能优化 | hailiting Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog_dev/logo.png">
    <meta name="description" content="hailiting Blog">
    
    <link rel="preload" href="/blog_dev/assets/css/0.styles.e9faf17d.css" as="style"><link rel="preload" href="/blog_dev/assets/js/app.709da227.js" as="script"><link rel="preload" href="/blog_dev/assets/js/2.556b46b5.js" as="script"><link rel="preload" href="/blog_dev/assets/js/260.45184866.js" as="script"><link rel="prefetch" href="/blog_dev/assets/js/10.d061a1d9.js"><link rel="prefetch" href="/blog_dev/assets/js/100.0c7b74b5.js"><link rel="prefetch" href="/blog_dev/assets/js/101.63725a21.js"><link rel="prefetch" href="/blog_dev/assets/js/102.a0aa8352.js"><link rel="prefetch" href="/blog_dev/assets/js/103.3f4859f8.js"><link rel="prefetch" href="/blog_dev/assets/js/104.c375d9a0.js"><link rel="prefetch" href="/blog_dev/assets/js/105.3ab4f216.js"><link rel="prefetch" href="/blog_dev/assets/js/106.39c53827.js"><link rel="prefetch" href="/blog_dev/assets/js/107.f2a28572.js"><link rel="prefetch" href="/blog_dev/assets/js/108.dba8d9ec.js"><link rel="prefetch" href="/blog_dev/assets/js/109.be1a59c4.js"><link rel="prefetch" href="/blog_dev/assets/js/11.1fac2bc6.js"><link rel="prefetch" href="/blog_dev/assets/js/110.4e9a9fb3.js"><link rel="prefetch" href="/blog_dev/assets/js/111.e70ebf37.js"><link rel="prefetch" href="/blog_dev/assets/js/112.c2acf0c5.js"><link rel="prefetch" href="/blog_dev/assets/js/113.2c4c2f15.js"><link rel="prefetch" href="/blog_dev/assets/js/114.395922dd.js"><link rel="prefetch" href="/blog_dev/assets/js/115.4bca9bf3.js"><link rel="prefetch" href="/blog_dev/assets/js/116.49621d87.js"><link rel="prefetch" href="/blog_dev/assets/js/117.16ada7ad.js"><link rel="prefetch" href="/blog_dev/assets/js/118.2565919e.js"><link rel="prefetch" href="/blog_dev/assets/js/119.c12bdd10.js"><link rel="prefetch" href="/blog_dev/assets/js/12.4576cc3f.js"><link rel="prefetch" href="/blog_dev/assets/js/120.7939ff97.js"><link rel="prefetch" href="/blog_dev/assets/js/121.c26e4264.js"><link rel="prefetch" href="/blog_dev/assets/js/122.50fc8ef5.js"><link rel="prefetch" href="/blog_dev/assets/js/123.ffe9a78f.js"><link rel="prefetch" href="/blog_dev/assets/js/124.5aee6dd1.js"><link rel="prefetch" href="/blog_dev/assets/js/125.11cf3383.js"><link rel="prefetch" href="/blog_dev/assets/js/126.b056850f.js"><link rel="prefetch" href="/blog_dev/assets/js/127.80bc5fff.js"><link rel="prefetch" href="/blog_dev/assets/js/128.afdd2e1e.js"><link rel="prefetch" href="/blog_dev/assets/js/129.bd933eb7.js"><link rel="prefetch" href="/blog_dev/assets/js/13.bc140e8c.js"><link rel="prefetch" href="/blog_dev/assets/js/130.a87b24d0.js"><link rel="prefetch" href="/blog_dev/assets/js/131.9127e428.js"><link rel="prefetch" href="/blog_dev/assets/js/132.5baa85a6.js"><link rel="prefetch" href="/blog_dev/assets/js/133.e6519713.js"><link rel="prefetch" href="/blog_dev/assets/js/134.dbdebdb7.js"><link rel="prefetch" href="/blog_dev/assets/js/135.50b8f3cc.js"><link rel="prefetch" href="/blog_dev/assets/js/136.c9731137.js"><link rel="prefetch" href="/blog_dev/assets/js/137.f57d3761.js"><link rel="prefetch" href="/blog_dev/assets/js/138.6a94bea2.js"><link rel="prefetch" href="/blog_dev/assets/js/139.cdff373d.js"><link rel="prefetch" href="/blog_dev/assets/js/14.d889f0ed.js"><link rel="prefetch" href="/blog_dev/assets/js/140.dd2e3ba1.js"><link rel="prefetch" href="/blog_dev/assets/js/141.7a915726.js"><link rel="prefetch" href="/blog_dev/assets/js/142.58a0db92.js"><link rel="prefetch" href="/blog_dev/assets/js/143.182403fc.js"><link rel="prefetch" href="/blog_dev/assets/js/144.dcd6bf77.js"><link rel="prefetch" href="/blog_dev/assets/js/145.d06933fa.js"><link rel="prefetch" href="/blog_dev/assets/js/146.fd698fa3.js"><link rel="prefetch" href="/blog_dev/assets/js/147.2eaef6d1.js"><link rel="prefetch" href="/blog_dev/assets/js/148.3e1c96ae.js"><link rel="prefetch" href="/blog_dev/assets/js/149.bb7c3714.js"><link rel="prefetch" href="/blog_dev/assets/js/15.4ca3d2e1.js"><link rel="prefetch" href="/blog_dev/assets/js/150.937db40c.js"><link rel="prefetch" href="/blog_dev/assets/js/151.e911967c.js"><link rel="prefetch" href="/blog_dev/assets/js/152.ba1a29a5.js"><link rel="prefetch" href="/blog_dev/assets/js/153.47a6243a.js"><link rel="prefetch" href="/blog_dev/assets/js/154.511b473a.js"><link rel="prefetch" href="/blog_dev/assets/js/155.b8cce54b.js"><link rel="prefetch" href="/blog_dev/assets/js/156.8898b2f9.js"><link rel="prefetch" href="/blog_dev/assets/js/157.5f06ed86.js"><link rel="prefetch" href="/blog_dev/assets/js/158.137235af.js"><link rel="prefetch" href="/blog_dev/assets/js/159.0e9ce62a.js"><link rel="prefetch" href="/blog_dev/assets/js/16.456961f6.js"><link rel="prefetch" href="/blog_dev/assets/js/160.38d855a7.js"><link rel="prefetch" href="/blog_dev/assets/js/161.3590c707.js"><link rel="prefetch" href="/blog_dev/assets/js/162.86630534.js"><link rel="prefetch" href="/blog_dev/assets/js/163.6e13f473.js"><link rel="prefetch" href="/blog_dev/assets/js/164.d1fb6be0.js"><link rel="prefetch" href="/blog_dev/assets/js/165.f60ddeb1.js"><link rel="prefetch" href="/blog_dev/assets/js/166.32edcf10.js"><link rel="prefetch" href="/blog_dev/assets/js/167.c186a3aa.js"><link rel="prefetch" href="/blog_dev/assets/js/168.b4d579ba.js"><link rel="prefetch" href="/blog_dev/assets/js/169.67440797.js"><link rel="prefetch" href="/blog_dev/assets/js/17.529aaf8b.js"><link rel="prefetch" href="/blog_dev/assets/js/170.9764038a.js"><link rel="prefetch" href="/blog_dev/assets/js/171.6f3a2180.js"><link rel="prefetch" href="/blog_dev/assets/js/172.519538bf.js"><link rel="prefetch" href="/blog_dev/assets/js/173.9f7d6b1c.js"><link rel="prefetch" href="/blog_dev/assets/js/174.135c3ff2.js"><link rel="prefetch" href="/blog_dev/assets/js/175.fad4b7cd.js"><link rel="prefetch" href="/blog_dev/assets/js/176.a7e8b342.js"><link rel="prefetch" href="/blog_dev/assets/js/177.bc7d98e9.js"><link rel="prefetch" href="/blog_dev/assets/js/178.013841ad.js"><link rel="prefetch" href="/blog_dev/assets/js/179.ea55a800.js"><link rel="prefetch" href="/blog_dev/assets/js/18.c501dfa3.js"><link rel="prefetch" href="/blog_dev/assets/js/180.3fc7fc18.js"><link rel="prefetch" href="/blog_dev/assets/js/181.00d79ee8.js"><link rel="prefetch" href="/blog_dev/assets/js/182.75ce3c02.js"><link rel="prefetch" href="/blog_dev/assets/js/183.a111b430.js"><link rel="prefetch" href="/blog_dev/assets/js/184.934f6bbd.js"><link rel="prefetch" href="/blog_dev/assets/js/185.fd9febdb.js"><link rel="prefetch" href="/blog_dev/assets/js/186.0a342597.js"><link rel="prefetch" href="/blog_dev/assets/js/187.9e4b1686.js"><link rel="prefetch" href="/blog_dev/assets/js/188.2989272b.js"><link rel="prefetch" href="/blog_dev/assets/js/189.f45e0987.js"><link rel="prefetch" href="/blog_dev/assets/js/19.d413d821.js"><link rel="prefetch" href="/blog_dev/assets/js/190.83d10781.js"><link rel="prefetch" href="/blog_dev/assets/js/191.2b4e0c89.js"><link rel="prefetch" href="/blog_dev/assets/js/192.48865ed5.js"><link rel="prefetch" href="/blog_dev/assets/js/193.c01826d8.js"><link rel="prefetch" href="/blog_dev/assets/js/194.74e50b36.js"><link rel="prefetch" href="/blog_dev/assets/js/195.aa29f582.js"><link rel="prefetch" href="/blog_dev/assets/js/196.aca00a42.js"><link rel="prefetch" href="/blog_dev/assets/js/197.40b2c10e.js"><link rel="prefetch" href="/blog_dev/assets/js/198.33842e64.js"><link rel="prefetch" href="/blog_dev/assets/js/199.29e6325b.js"><link rel="prefetch" href="/blog_dev/assets/js/20.c89e4367.js"><link rel="prefetch" href="/blog_dev/assets/js/200.a7bce9d6.js"><link rel="prefetch" href="/blog_dev/assets/js/201.5025c6d3.js"><link rel="prefetch" href="/blog_dev/assets/js/202.c99897b4.js"><link rel="prefetch" href="/blog_dev/assets/js/203.347f1189.js"><link rel="prefetch" href="/blog_dev/assets/js/204.8de572ee.js"><link rel="prefetch" href="/blog_dev/assets/js/205.45483b34.js"><link rel="prefetch" href="/blog_dev/assets/js/206.c31290f0.js"><link rel="prefetch" href="/blog_dev/assets/js/207.e3f41a9a.js"><link rel="prefetch" href="/blog_dev/assets/js/208.d0dfd243.js"><link rel="prefetch" href="/blog_dev/assets/js/209.995ec2cb.js"><link rel="prefetch" href="/blog_dev/assets/js/21.25b239e1.js"><link rel="prefetch" href="/blog_dev/assets/js/210.e7965c3a.js"><link rel="prefetch" href="/blog_dev/assets/js/211.6b257aba.js"><link rel="prefetch" href="/blog_dev/assets/js/212.4a1cc3ec.js"><link rel="prefetch" href="/blog_dev/assets/js/213.31f8bf45.js"><link rel="prefetch" href="/blog_dev/assets/js/214.313c7b41.js"><link rel="prefetch" href="/blog_dev/assets/js/215.ee241838.js"><link rel="prefetch" href="/blog_dev/assets/js/216.3543cf04.js"><link rel="prefetch" href="/blog_dev/assets/js/217.0d6ea85b.js"><link rel="prefetch" href="/blog_dev/assets/js/218.80640071.js"><link rel="prefetch" href="/blog_dev/assets/js/219.151cb78a.js"><link rel="prefetch" href="/blog_dev/assets/js/22.d89f4d90.js"><link rel="prefetch" href="/blog_dev/assets/js/220.0eae0afd.js"><link rel="prefetch" href="/blog_dev/assets/js/221.8f8817b7.js"><link rel="prefetch" href="/blog_dev/assets/js/222.ae4bc9b6.js"><link rel="prefetch" href="/blog_dev/assets/js/223.a7aed6fa.js"><link rel="prefetch" href="/blog_dev/assets/js/224.025821c5.js"><link rel="prefetch" href="/blog_dev/assets/js/225.97d213b8.js"><link rel="prefetch" href="/blog_dev/assets/js/226.4578e374.js"><link rel="prefetch" href="/blog_dev/assets/js/227.dfd2b951.js"><link rel="prefetch" href="/blog_dev/assets/js/228.f25dfcc5.js"><link rel="prefetch" href="/blog_dev/assets/js/229.49de06f2.js"><link rel="prefetch" href="/blog_dev/assets/js/23.37517448.js"><link rel="prefetch" href="/blog_dev/assets/js/230.74de1167.js"><link rel="prefetch" href="/blog_dev/assets/js/231.109f1608.js"><link rel="prefetch" href="/blog_dev/assets/js/232.b199ca54.js"><link rel="prefetch" href="/blog_dev/assets/js/233.e5505590.js"><link rel="prefetch" href="/blog_dev/assets/js/234.540cc14b.js"><link rel="prefetch" href="/blog_dev/assets/js/235.2c3a6404.js"><link rel="prefetch" href="/blog_dev/assets/js/236.7b387bc5.js"><link rel="prefetch" href="/blog_dev/assets/js/237.739ab0f9.js"><link rel="prefetch" href="/blog_dev/assets/js/238.fac109c9.js"><link rel="prefetch" href="/blog_dev/assets/js/239.1e997e2c.js"><link rel="prefetch" href="/blog_dev/assets/js/24.8c152fef.js"><link rel="prefetch" href="/blog_dev/assets/js/240.0b145d5f.js"><link rel="prefetch" href="/blog_dev/assets/js/241.09c4ce68.js"><link rel="prefetch" href="/blog_dev/assets/js/242.1e13a030.js"><link rel="prefetch" href="/blog_dev/assets/js/243.306372f7.js"><link rel="prefetch" href="/blog_dev/assets/js/244.63184878.js"><link rel="prefetch" href="/blog_dev/assets/js/245.8bcac252.js"><link rel="prefetch" href="/blog_dev/assets/js/246.99622cb5.js"><link rel="prefetch" href="/blog_dev/assets/js/247.34bd3960.js"><link rel="prefetch" href="/blog_dev/assets/js/248.2861f31a.js"><link rel="prefetch" href="/blog_dev/assets/js/249.6f62b76b.js"><link rel="prefetch" href="/blog_dev/assets/js/25.3bd7dbd6.js"><link rel="prefetch" href="/blog_dev/assets/js/250.441d1201.js"><link rel="prefetch" href="/blog_dev/assets/js/251.d1e30efd.js"><link rel="prefetch" href="/blog_dev/assets/js/252.1b993b77.js"><link rel="prefetch" href="/blog_dev/assets/js/253.7dd3cb2d.js"><link rel="prefetch" href="/blog_dev/assets/js/254.08d6a027.js"><link rel="prefetch" href="/blog_dev/assets/js/255.a95d32c3.js"><link rel="prefetch" href="/blog_dev/assets/js/256.4c0097ae.js"><link rel="prefetch" href="/blog_dev/assets/js/257.ccef358b.js"><link rel="prefetch" href="/blog_dev/assets/js/258.fcccb1d9.js"><link rel="prefetch" href="/blog_dev/assets/js/259.8c4e2a5b.js"><link rel="prefetch" href="/blog_dev/assets/js/26.357db678.js"><link rel="prefetch" href="/blog_dev/assets/js/261.57d645d4.js"><link rel="prefetch" href="/blog_dev/assets/js/262.cec8a62e.js"><link rel="prefetch" href="/blog_dev/assets/js/263.e8923920.js"><link rel="prefetch" href="/blog_dev/assets/js/264.37b490f7.js"><link rel="prefetch" href="/blog_dev/assets/js/265.ee7b00f6.js"><link rel="prefetch" href="/blog_dev/assets/js/266.0c31de3b.js"><link rel="prefetch" href="/blog_dev/assets/js/267.62925b15.js"><link rel="prefetch" href="/blog_dev/assets/js/268.6069bb2b.js"><link rel="prefetch" href="/blog_dev/assets/js/269.3c64c573.js"><link rel="prefetch" href="/blog_dev/assets/js/27.64c767de.js"><link rel="prefetch" href="/blog_dev/assets/js/270.ff44d5ab.js"><link rel="prefetch" href="/blog_dev/assets/js/271.de3eed75.js"><link rel="prefetch" href="/blog_dev/assets/js/272.9d9b6f12.js"><link rel="prefetch" href="/blog_dev/assets/js/273.b66c0be1.js"><link rel="prefetch" href="/blog_dev/assets/js/274.4d1bfedc.js"><link rel="prefetch" href="/blog_dev/assets/js/275.b7eceff6.js"><link rel="prefetch" href="/blog_dev/assets/js/276.eccd169a.js"><link rel="prefetch" href="/blog_dev/assets/js/277.a3a88438.js"><link rel="prefetch" href="/blog_dev/assets/js/278.22309baf.js"><link rel="prefetch" href="/blog_dev/assets/js/279.4373be14.js"><link rel="prefetch" href="/blog_dev/assets/js/28.0eaddbe2.js"><link rel="prefetch" href="/blog_dev/assets/js/280.bd9fb67f.js"><link rel="prefetch" href="/blog_dev/assets/js/281.2d9a98be.js"><link rel="prefetch" href="/blog_dev/assets/js/282.b90e372b.js"><link rel="prefetch" href="/blog_dev/assets/js/283.ec34c046.js"><link rel="prefetch" href="/blog_dev/assets/js/284.512f07f4.js"><link rel="prefetch" href="/blog_dev/assets/js/285.84d0ed1e.js"><link rel="prefetch" href="/blog_dev/assets/js/286.433c7816.js"><link rel="prefetch" href="/blog_dev/assets/js/287.0d3753f9.js"><link rel="prefetch" href="/blog_dev/assets/js/288.1c8d7744.js"><link rel="prefetch" href="/blog_dev/assets/js/289.476af6b9.js"><link rel="prefetch" href="/blog_dev/assets/js/29.5dd473c0.js"><link rel="prefetch" href="/blog_dev/assets/js/290.cbc40d8f.js"><link rel="prefetch" href="/blog_dev/assets/js/291.8346da5f.js"><link rel="prefetch" href="/blog_dev/assets/js/292.7384b627.js"><link rel="prefetch" href="/blog_dev/assets/js/293.63d74868.js"><link rel="prefetch" href="/blog_dev/assets/js/294.1410f408.js"><link rel="prefetch" href="/blog_dev/assets/js/295.952ce9ba.js"><link rel="prefetch" href="/blog_dev/assets/js/296.991a0da7.js"><link rel="prefetch" href="/blog_dev/assets/js/297.ec2fb727.js"><link rel="prefetch" href="/blog_dev/assets/js/298.c43e6ee0.js"><link rel="prefetch" href="/blog_dev/assets/js/299.02e81e03.js"><link rel="prefetch" href="/blog_dev/assets/js/3.bb975429.js"><link rel="prefetch" href="/blog_dev/assets/js/30.351b19a1.js"><link rel="prefetch" href="/blog_dev/assets/js/300.e4df5ed6.js"><link rel="prefetch" href="/blog_dev/assets/js/301.224fc9b4.js"><link rel="prefetch" href="/blog_dev/assets/js/302.ed9189c5.js"><link rel="prefetch" href="/blog_dev/assets/js/303.f0b78d10.js"><link rel="prefetch" href="/blog_dev/assets/js/304.6ec9ed66.js"><link rel="prefetch" href="/blog_dev/assets/js/305.c579e253.js"><link rel="prefetch" href="/blog_dev/assets/js/306.ac462491.js"><link rel="prefetch" href="/blog_dev/assets/js/307.abcd03c4.js"><link rel="prefetch" href="/blog_dev/assets/js/308.401c1772.js"><link rel="prefetch" href="/blog_dev/assets/js/309.84e52cc8.js"><link rel="prefetch" href="/blog_dev/assets/js/31.92bd6220.js"><link rel="prefetch" href="/blog_dev/assets/js/310.838924a1.js"><link rel="prefetch" href="/blog_dev/assets/js/311.c2d70590.js"><link rel="prefetch" href="/blog_dev/assets/js/312.892f867d.js"><link rel="prefetch" href="/blog_dev/assets/js/313.3f307c3e.js"><link rel="prefetch" href="/blog_dev/assets/js/314.a3ea90d5.js"><link rel="prefetch" href="/blog_dev/assets/js/315.6b095340.js"><link rel="prefetch" href="/blog_dev/assets/js/316.4f5b4c9b.js"><link rel="prefetch" href="/blog_dev/assets/js/317.66641d59.js"><link rel="prefetch" href="/blog_dev/assets/js/318.652dafd2.js"><link rel="prefetch" href="/blog_dev/assets/js/319.8dd6b519.js"><link rel="prefetch" href="/blog_dev/assets/js/32.fde56041.js"><link rel="prefetch" href="/blog_dev/assets/js/320.1fca28a4.js"><link rel="prefetch" href="/blog_dev/assets/js/321.6a52b165.js"><link rel="prefetch" href="/blog_dev/assets/js/322.4e9919d1.js"><link rel="prefetch" href="/blog_dev/assets/js/323.8a96f35f.js"><link rel="prefetch" href="/blog_dev/assets/js/324.590862d1.js"><link rel="prefetch" href="/blog_dev/assets/js/33.43b6d3a3.js"><link rel="prefetch" href="/blog_dev/assets/js/34.7ba26882.js"><link rel="prefetch" href="/blog_dev/assets/js/35.dd4ed088.js"><link rel="prefetch" href="/blog_dev/assets/js/36.114c5ba1.js"><link rel="prefetch" href="/blog_dev/assets/js/37.1952dd28.js"><link rel="prefetch" href="/blog_dev/assets/js/38.da914b09.js"><link rel="prefetch" href="/blog_dev/assets/js/39.7e26b7b2.js"><link rel="prefetch" href="/blog_dev/assets/js/4.47949fe2.js"><link rel="prefetch" href="/blog_dev/assets/js/40.b53ac1b8.js"><link rel="prefetch" href="/blog_dev/assets/js/41.ae8b1f98.js"><link rel="prefetch" href="/blog_dev/assets/js/42.479e9251.js"><link rel="prefetch" href="/blog_dev/assets/js/43.91d2fa5d.js"><link rel="prefetch" href="/blog_dev/assets/js/44.45a27817.js"><link rel="prefetch" href="/blog_dev/assets/js/45.9ba1f8c4.js"><link rel="prefetch" href="/blog_dev/assets/js/46.2eae6d1e.js"><link rel="prefetch" href="/blog_dev/assets/js/47.95b6f8e1.js"><link rel="prefetch" href="/blog_dev/assets/js/48.f0161ea5.js"><link rel="prefetch" href="/blog_dev/assets/js/49.5d642580.js"><link rel="prefetch" href="/blog_dev/assets/js/5.0ac632f7.js"><link rel="prefetch" href="/blog_dev/assets/js/50.8bd7a35f.js"><link rel="prefetch" href="/blog_dev/assets/js/51.56ae0cc4.js"><link rel="prefetch" href="/blog_dev/assets/js/52.ca920ca8.js"><link rel="prefetch" href="/blog_dev/assets/js/53.173c70ac.js"><link rel="prefetch" href="/blog_dev/assets/js/54.523b339d.js"><link rel="prefetch" href="/blog_dev/assets/js/55.ac75c90f.js"><link rel="prefetch" href="/blog_dev/assets/js/56.2e111d42.js"><link rel="prefetch" href="/blog_dev/assets/js/57.f51b48a0.js"><link rel="prefetch" href="/blog_dev/assets/js/58.1d77fc82.js"><link rel="prefetch" href="/blog_dev/assets/js/59.996c6ec0.js"><link rel="prefetch" href="/blog_dev/assets/js/6.7d92400c.js"><link rel="prefetch" href="/blog_dev/assets/js/60.9b1925f8.js"><link rel="prefetch" href="/blog_dev/assets/js/61.2622607d.js"><link rel="prefetch" href="/blog_dev/assets/js/62.9960ec8b.js"><link rel="prefetch" href="/blog_dev/assets/js/63.cc80d5d8.js"><link rel="prefetch" href="/blog_dev/assets/js/64.cd9d858a.js"><link rel="prefetch" href="/blog_dev/assets/js/65.2e5ca607.js"><link rel="prefetch" href="/blog_dev/assets/js/66.8be3c4c0.js"><link rel="prefetch" href="/blog_dev/assets/js/67.1eefd7d5.js"><link rel="prefetch" href="/blog_dev/assets/js/68.adf762ce.js"><link rel="prefetch" href="/blog_dev/assets/js/69.27c95c35.js"><link rel="prefetch" href="/blog_dev/assets/js/7.01b296e3.js"><link rel="prefetch" href="/blog_dev/assets/js/70.5097ac5d.js"><link rel="prefetch" href="/blog_dev/assets/js/71.e261fe0c.js"><link rel="prefetch" href="/blog_dev/assets/js/72.d5582ca6.js"><link rel="prefetch" href="/blog_dev/assets/js/73.8c99b9a5.js"><link rel="prefetch" href="/blog_dev/assets/js/74.360f75b2.js"><link rel="prefetch" href="/blog_dev/assets/js/75.31152e1a.js"><link rel="prefetch" href="/blog_dev/assets/js/76.1e48dadb.js"><link rel="prefetch" href="/blog_dev/assets/js/77.0d614aa8.js"><link rel="prefetch" href="/blog_dev/assets/js/78.d6dc4f4b.js"><link rel="prefetch" href="/blog_dev/assets/js/79.50283d30.js"><link rel="prefetch" href="/blog_dev/assets/js/8.7983d5a6.js"><link rel="prefetch" href="/blog_dev/assets/js/80.a52496b7.js"><link rel="prefetch" href="/blog_dev/assets/js/81.ea8065b9.js"><link rel="prefetch" href="/blog_dev/assets/js/82.8bc4a3cc.js"><link rel="prefetch" href="/blog_dev/assets/js/83.7fe873c1.js"><link rel="prefetch" href="/blog_dev/assets/js/84.d65a2741.js"><link rel="prefetch" href="/blog_dev/assets/js/85.27a9c21c.js"><link rel="prefetch" href="/blog_dev/assets/js/86.6d7e13c8.js"><link rel="prefetch" href="/blog_dev/assets/js/87.858dd9e0.js"><link rel="prefetch" href="/blog_dev/assets/js/88.c0d83d71.js"><link rel="prefetch" href="/blog_dev/assets/js/89.c6b08127.js"><link rel="prefetch" href="/blog_dev/assets/js/9.f2a5f044.js"><link rel="prefetch" href="/blog_dev/assets/js/90.4338e0cf.js"><link rel="prefetch" href="/blog_dev/assets/js/91.399fb4ca.js"><link rel="prefetch" href="/blog_dev/assets/js/92.ff317d0d.js"><link rel="prefetch" href="/blog_dev/assets/js/93.208e1694.js"><link rel="prefetch" href="/blog_dev/assets/js/94.13d481a5.js"><link rel="prefetch" href="/blog_dev/assets/js/95.984e2214.js"><link rel="prefetch" href="/blog_dev/assets/js/96.c1a273fa.js"><link rel="prefetch" href="/blog_dev/assets/js/97.bcbd1649.js"><link rel="prefetch" href="/blog_dev/assets/js/98.3fa49da9.js"><link rel="prefetch" href="/blog_dev/assets/js/99.fc09a5b7.js">
    <link rel="stylesheet" href="/blog_dev/assets/css/0.styles.e9faf17d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog_dev/" class="home-link router-link-active"><!----> <span class="site-name">hailiting Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Demo笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog_dev/HTTP协议和反向代理.html" class="sidebar-link">浏览器行为与HTTP协议</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PHP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ReactNative</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Wechat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mongodb</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>npm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>区块链</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工程化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog_dev/工程化/AOP_面向切面编程.html" class="sidebar-link">AOP 面向切面编程</a></li><li><a href="/blog_dev/工程化/MVVM.html" class="sidebar-link">MVVM</a></li><li><a href="/blog_dev/工程化/Mac中git_ssh配置.html" class="sidebar-link">Mac 中 git_ssh 配置</a></li><li><a href="/blog_dev/工程化/Manifest.html" class="sidebar-link">Manifest</a></li><li><a href="/blog_dev/工程化/bit尝试.html" class="sidebar-link">bit 尝试</a></li><li><a href="/blog_dev/工程化/npmYarnCnpm.html" class="sidebar-link">npm yarn cnpm</a></li><li><a href="/blog_dev/工程化/npm上传自己的仓库.html" class="sidebar-link">npm 上传自己的仓库</a></li><li><a href="/blog_dev/%E5%B7%A5%E7%A8%8B%E5%8C%96/" aria-current="page" class="sidebar-link">## 回滚策略</a></li><li><a href="/blog_dev/工程化/svn.html" class="sidebar-link">svn</a></li><li><a href="/blog_dev/工程化/travis持续部署与发布.html" class="sidebar-link">travis 持续部署与发布</a></li><li><a href="/blog_dev/工程化/webpack之前端性能优化.html" class="sidebar-link">webpack 之前端性能优化</a></li><li><a href="/blog_dev/工程化/使用Storybook管理UI库.html" class="sidebar-link">使用 Storybook 管理 UI 库</a></li><li><a href="/blog_dev/工程化/初探测试.html" class="sidebar-link">初探前端自动化</a></li><li><a href="/blog_dev/工程化/前端安全策略.html" class="sidebar-link">前端安全策略</a></li><li><a href="/blog_dev/工程化/前端微服务.html" class="sidebar-link">前端微服务</a></li><li><a href="/blog_dev/工程化/前端性能优化.html" class="active sidebar-link">前端性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#http-协议" class="sidebar-link">HTTP 协议</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#性能优化范畴-客户端" class="sidebar-link">性能优化范畴（客户端）</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#具体策略" class="sidebar-link">具体策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#离线缓存" class="sidebar-link">离线缓存</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#前端-orm-存储方案" class="sidebar-link">前端 ORM 存储方案</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#重排-重绘" class="sidebar-link">重排 重绘</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#一些概念" class="sidebar-link">一些概念</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#更快的代码" class="sidebar-link">更快的代码</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#react-性能优化" class="sidebar-link">React 性能优化</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#vue-性能优化" class="sidebar-link">Vue 性能优化</a></li><li class="sidebar-sub-header"><a href="/blog_dev/工程化/前端性能优化.html#问" class="sidebar-link">问</a></li></ul></li><li><a href="/blog_dev/工程化/前端性能优化_Lighthouse.html" class="sidebar-link">前端性能优化_Lighthouse</a></li><li><a href="/blog_dev/工程化/前端性能优化_link篇.html" class="sidebar-link">前端性能优化_link 篇</a></li><li><a href="/blog_dev/工程化/前端性能优化_性能监控.html" class="sidebar-link">前端性能优化 性能监控</a></li><li><a href="/blog_dev/工程化/前端项目持续集成(一).html" class="sidebar-link">前端项目持续集成(一)</a></li><li><a href="/blog_dev/工程化/前端项目持续集成(二).html" class="sidebar-link">前端项目持续集成(二)</a></li><li><a href="/blog_dev/工程化/手写Webpack源码.html" class="sidebar-link">手写Webpack源码</a></li><li><a href="/blog_dev/工程化/网页渲染过程与重绘重排.html" class="sidebar-link">网页渲染过程与重绘重排</a></li><li><a href="/blog_dev/工程化/谷歌浏览器截取整个网页.html" class="sidebar-link">谷歌浏览器截取整个网页</a></li><li><a href="/blog_dev/工程化/配置_git.html" class="sidebar-link">配置 git</a></li><li><a href="/blog_dev/工程化/配置_gulp.html" class="sidebar-link">gulp 配置</a></li><li><a href="/blog_dev/工程化/配置_rollup.html" class="sidebar-link">rollup 配置</a></li><li><a href="/blog_dev/工程化/配置_webpack.html" class="sidebar-link">webpack 配置</a></li><li><a href="/blog_dev/工程化/雅虎军规35条.html" class="sidebar-link">雅虎军规 35 条</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微信公众号</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日一道前端面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法与数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机服务基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>课程笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog_dev/课程表.html" class="sidebar-link">/课程表.html</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试之道</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端性能优化"><a href="#前端性能优化" class="header-anchor">#</a> 前端性能优化</h1> <h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <ul><li>浏览器的渲染过程</li> <li>DNS 详解</li> <li>TCP 三次握手与四次挥手</li> <li>HTTP 缓存机制</li> <li>CDN 与集群</li></ul> <h3 id="http-协议"><a href="#http-协议" class="header-anchor">#</a> HTTP 协议</h3> <h4 id="处理流程"><a href="#处理流程" class="header-anchor">#</a> 处理流程</h4> <p>1，用户输入网址
2，浏览器得到网址，并通过防火墙
3，在 internet 里找到 DNS Server,DNS 把网址解析为 ip_address
4，浏览器带着 ip_address 去找到 Hosting Server[托管服务器]- 浏览器发送 Http 请求
5，托管服务器分配一个可用资源返回给浏览器，浏览器携带内容回程 - 服务器处理请求并返回资源文件
6，浏览器处理资源文件-用户在浏览器上看到反馈</p> <h5 id="网络请求阶段关键节点"><a href="#网络请求阶段关键节点" class="header-anchor">#</a> 网络请求阶段关键节点</h5> <p>PerformanceTiming -&gt; 提供了在加载和使用当前页面期间发生的各种事件的性能计时信息，返回毫秒级</p> <div class="language- extra-class"><pre class="language-text"><code>提示卸载
  &lt;- performance.timing.navigationStart
  &lt;- performance.timing.redirectStart
重定向
  &lt;- performance.timing.redirectEnd
  &lt;- performance.timing.fetchStart
应用缓存
  &lt;- performance.timing.domainLookupStart
DNS
  &lt;- performance.timing.domainLookupEnd
  &lt;- performance.timing.connectStart
TCP &lt;- performance.timing.secureConnectionStart
  &lt;- performance.timing.connectEnd
  &lt;- performance.timing.requestStart
请求
  &lt;- performance.timing.responseStart
响应
  [卸载]  &lt;- performance.timing.unloadEventStart
         &lt;- performance.timing.unloadEventEnd
  &lt;- performance.timing.domLoading
处理
  &lt;- performance.timing.domInteractive
  [DOMContentLoaded]  &lt;- performance.timing.domContentLoadedEventStart
                      &lt;- performance.timing.domContentLoadedEventEnd
  &lt;- performance.timing.domComplete
  &lt;- performance.timing.loadEventStart
加载
  &lt;- performance.timing.loadEventEnd
</code></pre></div><ul><li>较有用的页面性能数据大概包括</li></ul> <div class="language- extra-class"><pre class="language-text"><code>window.onload = function () {
  setTimeout(function () {
    let t = performance.timing,a = [];
    a.push({'DNS查询耗时': (t.domainLookupEnd - t.domainLookupStart).toFixed(0)})
    a.push({'TCP链接耗时': (t.connectEnd - t.connectStart).toFixed(0)})
    a.push({'request请求耗时': (t.responseEnd - t.responseStart).toFixed(0)})
    a.push({'解析dom树耗时': (t.domComplete - t.domInteractive).toFixed(0)})
    a.push({'白屏时间': (t.responseStart - t.navigationStart).toFixed(0)})
    a.push({'domready时间': (t.domContentLoadedEventEnd - t.navigationStart).toFixed(0)})
    a.push({'onload时间||总下载时间': (t.loadEventEnd - t.navigationStart).toFixed(0)})

    if (t = performance.memory) {
      a.push({'js内存使用占比 ：': (t.usedJSHeapSize / t.totalJSHeapSize * 100).toFixed(2) + '%'})
    }
    console.log(a)
  })
}
</code></pre></div><p>navigation.timing 提供可用于衡量一个网站性能的数据，提供的是端到端延迟数据
resource timing 提供让用户查看一个资源从输入 url 到下载下来经历各个过程所消耗的时间</p> <h5 id="dns-详解"><a href="#dns-详解" class="header-anchor">#</a> DNS 详解</h5> <ul><li>DNS(Domain Namee System), 域名系统，用于将域名转换为 IP</li> <li>顶级域名</li> <li>域名资源记录</li> <li>域名服务器</li> <li>域名解析</li></ul> <div class="language- extra-class"><pre class="language-text"><code>                          -&gt; [com] Root Server
www.google.com -&gt; server  -&gt; [google.com] TLD Server
                          -&gt; [www.google.com] Name Server
</code></pre></div><h6 id="域名资源记录"><a href="#域名资源记录" class="header-anchor">#</a> 域名资源记录</h6> <ol><li>SOA (StartOf Authority，起始授权记录) 一个区域解析库有且只能有一个 SOA 记录，并且必须放在第一条</li> <li>A 记录 (主机记录) 用于名称解析的重要记录，将特定的主机名映射到对应主机的 IP 地址上</li> <li>CNAME 记录 (别名记录) 用于返回一个域名，即当前查询的域名是另一个域名的跳转，主要用于域名的内部跳转，为服务器配置提供灵活性</li> <li>NS 记录 (域名服务器记录) 用于返回保存下一级域名信息的服务器地址。该记录只能设置为域名，不能设置为 IP 地址。</li> <li>MX (邮件记录) 用于返回接收电子邮件的服务器地址</li> <li>IPv6 主机记录 (AAAA 记录) 与 A 记录对应，用于将特定的主机映射到一个主机的 IPv6 地址</li></ol> <h6 id="tcp-三次握手与四次挥手"><a href="#tcp-三次握手与四次挥手" class="header-anchor">#</a> TCP 三次握手与四次挥手</h6> <ul><li>OSI 模型</li></ul> <div class="language- extra-class"><pre class="language-text"><code>数据接收端   ⏫ 解封                DATA 数据发送端  ⏬ 封装
  应用层                       AH  DATA  应用层
  表示层                    PH AH  DATA  表示层
  会话层                SH  PH AH  DATA  会话层
  传输层            TH  SH  PH AH  DATA  传输层
  网络层        NH  TH  SH  PH AH  DATA  网络层
 数据链路层 DT  NH  TH  SH  PH AH  DATA 数据链路层
  物理层 &lt;----------- 比特流  &lt;---------- 物理层
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>OSI中的层       功能                                TCP/IP协议族
 物理层         以二进制数据形式在物理媒体上传输数据     ISO2110, IEEE802, IEEE802.2
 数据链路层      传输有地址的帧以及错误检测功能          SLIP, CSLIP, PPP, ARP, RARP, MTU
 网络层         为数据包选择路由                      IP, ICMP, RIP, OSPF, BGP. IGMP
 传输层         提供端到端的接口                      TCP, UDP
 会话层         解除或建立与别的节点的联系              没有协议
 表示层         数据格式化，代码转换，数据加密           没有协议
 应用层         文件传输，电子邮件，文件服务，虚拟终端    TFTP, HTTP, SNMP, FTP,SMTP,DNS,Telnet
</code></pre></div><ul><li>TCP 在其协议中使用大量的标志位或 1 位(bit)布尔域来控制状态，常用的 3 个标志位</li></ul> <ul><li>SYN - 创建一个连接</li> <li>FIN - 终结一个连接</li> <li>ACK - 确认接收到的数据</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Client                                    Server
// 三次握手
                        SYN seq=x
SYN_SENT(connect())  ------------------&gt;  LISTEN(listen())
                      SYN seq=y, ACK=x+1    | SYN_RCVD
ESTABLISHED          &lt;------------------    |
        |       ACK=y+1
        |-------------------------------&gt;  ESTABLISHED established 建立连接
// 数据传输
                seq=x+1 ACK=y+1
(write())  -----------------------------&gt;  (read())
                    ACK x+2                   |
           &lt;-----------------------------     |
// 断链接四次挥手
                      FIN seq=x+2  ACK=y+1
FIN_WAIT_1(close()) ---------------------&gt;  CLOSE_WAIT
                          ACK x+3               |
FIN_WAIT_2          &lt;---------------------      |
                        FIN seq=y+1             |
TIME_WAIT           &lt;---------------------      | LAST_ACK (close())
        |             ACK=y+2
        |   ------------------------------&gt;
</code></pre></div><h5 id="cdn"><a href="#cdn" class="header-anchor">#</a> CDN</h5> <p>CDN 的全称是 Content Delivery Network, 即内容分发网络， CDN 是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥堵，提高用户访问响应速度和命中率，CDN 的关键技术主要有内容存储和分发。</p> <h5 id="缓存机制"><a href="#缓存机制" class="header-anchor">#</a> 缓存机制</h5> <p>缓存会根据请求保存内容的副本，当下一次请求到来时，如果相同的 url，并且缓存存在，并且有效，则用副本响应访问请求，而不是向源服务器在发请求访问</p> <h6 id="第一次请求"><a href="#第一次请求" class="header-anchor">#</a> 第一次请求</h6> <p>浏览器请求 -&gt; 无缓存 -&gt; 向 web 服务器请求 -&gt; 请求响应，缓存协商 -&gt; 呈现
缓存协商：</p> <ol><li>是否缓存 Expires、Cache-Control</li> <li>缓存时间</li> <li>Etag</li> <li>Last-Modified</li> <li>...</li></ol> <h6 id="再次请求"><a href="#再次请求" class="header-anchor">#</a> 再次请求</h6> <div class="language- extra-class"><pre class="language-text"><code>                                  浏览器请求
                                    有缓存
                    缓存过期 ----------|------------------- 缓存没过期
              没有Etag-|--------------有Etag                     |
                      |                |                   从缓存中读取
                      |          向web服务器请求带 If-None-Match
                      |                  |
没有Last-Modified-|-有Last-Modified     服务器决定 200 / 304
       |                  |               |
       |                  |             200 服务端请求   304   缓存读取
       |                  |
       |                  |
  向web服务器请求   向web服务器请求带If-Modified-Since
       |                  |
请求响应，缓存协商   服务器决定 200 / 304
</code></pre></div><ul><li><code>Etag</code>: Web 服务器响应请求时，告诉浏览器当前资源在服务器的唯一标识（生成规则由服务器决定）</li> <li><code>If-None-Match</code>: 当资源过期时（使用 Cache-Control 标识的 max-age），发现资源具有 Etage 声明，则再次向 web 服务器请求时带上头<code>If-None-Match</code>(Etag 的值)。web 服务器收到请求后发现头部有<code>If-None-Match</code>则被请求资源的相应校验串进行对比，决定 200 或 304</li> <li><code>Last-Modified</code>：标示这个响应资源的最后修改时间。web 服务器在响应请求时，告诉浏览器资源的最后修改时间。</li> <li><code>If-Modified-Since</code>: web 服务器发现请求头带有<code>If-Modified-Since</code>时，比对请求资源的修改时间与<code>If-Modified-Since</code>的值，从而判断资源文件是否过期</li></ul> <h2 id="性能优化范畴-客户端"><a href="#性能优化范畴-客户端" class="header-anchor">#</a> 性能优化范畴（客户端）</h2> <p>浏览器重绘和回流
节流设计 资源加载和利用：懒加载、高效缓存
浏览器存储
DOM 树模型
CSS 解析器
构架渲染树</p> <h2 id="具体策略"><a href="#具体策略" class="header-anchor">#</a> 具体策略</h2> <h3 id="离线缓存"><a href="#离线缓存" class="header-anchor">#</a> 离线缓存</h3> <p><strong>basket.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span>obj<span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">.</span>js<span class="token operator">:</span> <span class="token string">&quot;a.xxx.js&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token number">2.</span> active<span class="token punctuation">.</span>js
<span class="token number">3.</span> a<span class="token punctuation">.</span>js
<span class="token number">4.</span> <span class="token function">active</span><span class="token punctuation">(</span><span class="token string">&quot;a.js&quot;</span><span class="token punctuation">)</span>
<span class="token number">5.</span>
<span class="token comment">// 没有localStorage</span>
localStorage<span class="token punctuation">[</span><span class="token string">&quot;a.js&quot;</span><span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">&gt;</span>
 script src<span class="token operator">=</span><span class="token string">&quot;a.js&quot;</span> <span class="token operator">-</span><span class="token operator">&gt;</span> localStorage<span class="token punctuation">[</span><span class="token string">&quot;a.js&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;a.xx.js&quot;</span>
 localStorage<span class="token punctuation">[</span><span class="token string">&quot;a.xx.js&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 有localStorage</span>
localStorage<span class="token punctuation">[</span><span class="token string">&quot;a.js&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> obj<span class="token punctuation">[</span><span class="token string">&quot;a.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">eval</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">[</span><span class="token string">&quot;a.xx.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="前端-orm-存储方案"><a href="#前端-orm-存储方案" class="header-anchor">#</a> 前端 ORM 存储方案</h3> <p><code>localForage</code></p> <h4 id="last-modified-etag-expires-cache-control"><a href="#last-modified-etag-expires-cache-control" class="header-anchor">#</a> last-modified ETag expires cache-control</h4> <p>ETag -&gt; 毫秒级的
expires -&gt; 有时间间隔</p> <h5 id="expires-问题"><a href="#expires-问题" class="header-anchor">#</a> expires 问题</h5> <ol><li>会过期</li> <li>修改 js 得改服务器</li> <li>有些浏览器不支持 expires cache-control 策略</li> <li>浏览器会清除本地缓存</li> <li>多用于三方库</li></ol> <h3 id="重排-重绘"><a href="#重排-重绘" class="header-anchor">#</a> 重排 重绘</h3> <p>fps</p> <h4 id="_1-网页整体渲染过程"><a href="#_1-网页整体渲染过程" class="header-anchor">#</a> 1, 网页整体渲染过程</h4> <ul><li>1 获取 dom 分割层</li> <li>2 根据每层节点结算样式结果 Recalculate Style</li> <li>3 为每个节点生成图形和位置 Layout</li> <li>4 将每个节点回执填充到当前帧的位图中 Paint</li> <li>5 将图层上传到 GPU(显卡) GPU bitmap 专门处理图形</li> <li>6 显卡根据符合要求的多个图层合并成图像 给用户看 Composite Layers</li></ul> <h4 id="_2-渲染阶段-layout-paint-composite-layer"><a href="#_2-渲染阶段-layout-paint-composite-layer" class="header-anchor">#</a> 2, 渲染阶段 Layout -&gt; Paint -&gt; Composite Layer</h4> <h4 id="_3-什么情况下会分层"><a href="#_3-什么情况下会分层" class="header-anchor">#</a> 3, 什么情况下会分层</h4> <p>根元素
position
transfrom
半透明
滤镜
canvas
video
overflow</p> <ul><li>GPU 直接参与
css3d video webglk transform 滤镜 硬件加速</li></ul> <h4 id="_4-重排一定会引起重绘-重绘不一定引起出重排"><a href="#_4-重排一定会引起重绘-重绘不一定引起出重排" class="header-anchor">#</a> 4，重排一定会引起重绘，重绘不一定引起出重排</h4> <h4 id="_5-重排引起的条件比较多"><a href="#_5-重排引起的条件比较多" class="header-anchor">#</a> 5，重排引起的条件比较多</h4> <ul><li>添加或删除元素</li> <li>元素位置变化</li> <li>元素尺寸变化（盒模型）</li> <li>页面的初始化</li> <li>读取一些属性的时候，会引起重排（offset， scrolltop, client, width）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//</span>
<span class="token keyword">var</span> h1 <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#h1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clientheight<span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> h1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>获取重绘的时间：
<code>window.performance.getEntriesByType(&quot;paint&quot;)</code></p> <h3 id="一些概念"><a href="#一些概念" class="header-anchor">#</a> 一些概念</h3> <ul><li>TTFB: Time To First Byte 首字节时间</li> <li>SSR CSR 服务器渲染和客户端渲染
<ul><li>CSR: vue-&gt;index.html-&gt;div-&gt;fetch-&gt;router-&gt;model-&gt;view-&gt;methods</li> <li>SSR TTI</li></ul></li> <li>FP: first-paint 首次绘制</li> <li>FCP: first-contentful-paint 有实际的内容 包含页面的基本框架，但没有数据内容</li> <li>FMP: First Meaningful Paint 首次有意义的绘制</li> <li>Isomoraphic JavaScript 同构化</li> <li>Long tasks 超过 50ms 的任务</li> <li>TTI Time To Interactive 可交互时间</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// FCP.js</span>
<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> entryTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;paint&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> entryTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;longtask&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 主线程-&gt;页面阻塞</span>
<span class="token comment">// longtask太长  定位到</span>
<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// react 16.8 fiber 核心算法</span>
<span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 空闲api 去调用算法</span>
<span class="token operator">=&gt;</span>
<span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">30</span> <span class="token operator">=</span> <span class="token number">33.3</span> <span class="token comment">// 秒/帧</span>
<span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">=</span> <span class="token number">16.7</span> <span class="token comment">// 秒/帧</span>
<span class="token number">16.7</span> system <span class="token operator">+</span> 程序
</code></pre></div><ul><li>开发一款 mini 性能监控平台统计页面核心指标</li> <li>使用 X-Tag 完成直接刷新页面 SSR 切页 SPA</li> <li>使用 localForage 完成前端缓存的管理</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">SSR</span> <span class="token operator">+</span> <span class="token constant">CSR</span> 实现逻辑
<span class="token comment">// layout.html</span>
<span class="token comment">// 地址变了-&gt;</span>
<span class="token comment">// 监听</span>
<span class="token comment">//</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>不是ajax<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 直接输出页面  传统的</span>
  res<span class="token punctuation">.</span>render
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用ajax 返回一个对象</span>
  res<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">{</span>
    html<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    script<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    css<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
res<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="为什么出现白屏"><a href="#为什么出现白屏" class="header-anchor">#</a> 为什么出现白屏</h4> <ul><li><ol><li>css &amp; js 文件获取</li></ol></li> <li><ol start="2"><li>JS 文件解析</li></ol></li> <li><ol start="3"><li>DOM 生成</li></ol></li> <li><ol start="4"><li>CSSOM 生成</li></ol></li></ul> <h2 id="更快的代码"><a href="#更快的代码" class="header-anchor">#</a> 更快的代码</h2> <p>BOM/DOM 交互优化
常见算法介绍
常见写法优化，编译器优化</p> <h2 id="react-性能优化"><a href="#react-性能优化" class="header-anchor">#</a> React 性能优化</h2> <h2 id="vue-性能优化"><a href="#vue-性能优化" class="header-anchor">#</a> Vue 性能优化</h2> <h2 id="问"><a href="#问" class="header-anchor">#</a> 问</h2> <p>如何找出系统中的性能瓶颈
常见性能优化策略
如何设计缓存机制
在 Vue 和 React 内部如何做性能优化
如何做搜索引擎 SEO</p> <p>前端工程化与性能优化的关系，在项目中性能优化的经验</p> <p>静态资源放 CDN 的好处</p> <p>缓存前端静态资源的常用方法</p> <p>描述网络请求阶段的关键节点，开发一个性能统计平台的思路</p> <p>降低首屏时间的方法</p> <p>网站并发限制及请求很多请求还不能解决静态资源请求的过多的优化时段</p> <p>优化 Node 服务的手段</p> <p>雅虎军规</p> <p>获取到用户的网络及机型的方法</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog_dev/工程化/前端微服务.html" class="prev">
        前端微服务
      </a></span> <span class="next"><a href="/blog_dev/工程化/前端性能优化_Lighthouse.html">
        前端性能优化_Lighthouse
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog_dev/assets/js/app.709da227.js" defer></script><script src="/blog_dev/assets/js/2.556b46b5.js" defer></script><script src="/blog_dev/assets/js/260.45184866.js" defer></script>
  </body>
</html>
