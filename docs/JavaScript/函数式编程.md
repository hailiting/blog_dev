# 函数式编程

## 函数式编程的思维

### 范畴

- 1. 函数式编程是范畴论的数学分支，他认为世界上所有概念体系都可以抽象出一个个范畴
- 2. 彼此之间存在某种关系概念、事务、对象等等，都构成范畴，任何事物只要找出他们之间的关系，就能定义
- 3. 箭头表示范畴成员之间的关系，正式的名称叫做“态射”（morphism），范畴论认为，同一范畴的所有成员，就是不同状态的"变形"（transformation）。通过“态射”，一个成员可以变形成另一个成员
- 4. 所有的成员是一个集合
- 5. 变形关系是函数

### 基本概念

- 1. 函数式编程(Functional Programming)在计算机诞生前就已经存在了，其基础模型来自`λ(lambda x=>x*2)`演算，而 λ 演算并不是设计于计算机上执行，它是在 20 世纪三十年代引入的一套用于研究函数定义、函数应用和递归的形式系统
- 2. 函数式编程的主旨是：将复杂的函数拆分成简单的函数(计算理论，或者递归论、或 lambda 演算)。运算过程尽量写成一系列嵌套的函数调用
- 3. 高阶函数是函数式编程的一小部分

### 特点

- 1. 函数是一等公民，可以 赋值给其他变量，也可以作为参数，传入另一个函数，或作为别的函数的返回值
- 2. 不可改变量。在函数式编程中，变量仅仅代表某个表达式，这里的变量是不能被修改的，而所有的变量只能被赋值一次初始值
- 3. map, reduce 是最常用的函数式编程方法
- 4. 只用表达式，不用语句
- 5. 没有副作用
- 6. 不能修改状态
- 7. 引用透明（函数运行只能靠参数）

## 函数式编程常用核心概念

### 纯函数

- 相同的输入，永远得到相同的输出，而且没有任何可观察的副作用，也不依赖外部环境的状态

```js
var xs = [1, 2, 3, 4, 5, 6, 7];
// Array.slice是纯函数，因为它没有副作用，对于固定的输入，输出总是固定的
xs.slice(0, 3);
xs.slice(0, 3);
xs.splice(0, 3);
xs.splice(0, 3);
```

### 函数的柯里化

### 函数组合

### Point free

### 声明式与命令式代码

### 惰性求值

## 当下函数式编程最热的库

## 函数式编程的实际应用场景

1，函数式编程 不能有 if else
2，范畴论 变形=》太摄 =》变为了一个范畴

-> 固定的输入一定是固定的输出
-> 缓存
-> 柯里化

```js
/// 柯里化之前
function add(x, y) {
  return x + y;
}
add(1, 2);
/// 柯里化之后
function addX(x) {
  return function(y) {
    return x + y;
  };
}
var add8 = addX(8); // 被缓存了
var x = add8(9);
```

```js
function foo(p1, p2) {
  this.val = p1 + p2;
}
var bar = foo.bind(null, "p1");
var baz = new bar("p2");
console.log(baz.val);
```
