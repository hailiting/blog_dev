# 以太坊 Ethereum

Ether 以太

## 区块链（公链）发展简史

- 2008- 区块链 1.0 只是简单的记账 比特币
- 2014- 区块链 2.0 智能合约 以太坊
- 2017- 区块链 3.0 高性能，大吞吐量，开发者友好，用户友好 ？

## 以太坊的出现

**比特币的定位：点对点的电子现金系统**
**以太坊的定位：下一代智能合约和去中心化应用平台**

- 2014-01，Vitalik Buterin 在自己任编辑的比特币杂志（Bitcoin Magazine）上发表了《以太坊：下一代智能合约和去中心化应用平台》(以太坊白皮书)(Ethereum: A Next-Generation Smart Contract and Decentralized Application Platform)(Dapp 去中心化应用)
- 2014 年，迈阿密比特币会议中，Buterin 宣布以太坊项目，并提出多项创新性区块链技术，该年 7 月，启动以太坊众筹募资，募得 3.1 万枚比特币（当时约合 1840 万美元）
- 2015.7.30，当时作为以太坊项目 CCO 成员 Stephan Tual 在官方博客正式宣布以太坊系统的诞生，以太坊主网上线

## 发展阶段

- 前沿（Frontier）
- 家园（Homestead）
- 大都会（Metropolis）
  - 拜占庭
  - 君士坦丁堡
- 宁静

### 重大分叉

- Block #200,000
  Ice Age - 引入指数难度增加的硬分叉，促使向 Proof-of-Stake 过度
- Block #1,192,000
  The DAO - 扭转了被攻击的 DAO 合约并导致以太坊和以太坊经典分裂成两个竞争系统的硬分叉
- Block #2,463,000
  Tangerine Whistle - 改变某些 IO 运算的 gas 计算，并从拒绝服务攻击中清除累计状态，该攻击利用了这些操作的低 gas 成本
- Block #2,675,000
  Spurious Dragon - 一个解决更多拒绝服务攻击媒介的硬分叉，以及另一种状态清除，此外，还有重放攻击保护机制

### 发展现状

- 根据 State of DApps 的统计，目前运行在以太坊上的合约多达 47228 个，而以太坊的地址数也达到 4000w 以上

## 以太坊特点

- 以太坊是“世界计算机”，这代表它是一个开源的、全球分布式的计算机基础设施
- 执行称为智能合约（smart contract）的程序。（存储在世界计算机上，并能被其执行的程序）
- 使用区块链来同步和存储系统状态以及名为以太币（Ether）的加密货币，以计量和约束执行资源成本
- 本质是一个基于交易的状态机(transaction-based state machine)
- 以太坊平台使开发人员能够构建具有内置经济功能的强大去中心化应用程序（DApp）：在持续自我正常运行的同时，它还减少或消除了审查，第三方界面和交易对手风险

## 以太坊的组成部分

- P2P 网络
  以太坊在以太坊主网上运行，该网络可在 TCP 端口 30303 上寻址，并运行一个名为 DEVp2p 的协议
- 交易(Transaction)
  以太坊交易是网络消息，其中包括发送者（sender），接受者（receiver），值（value）和数据的有效载荷（payload）
- 以太坊虚拟机(EVM)
  以太坊状态转换由以太坊虚拟机（EVM）处理，这是一个执行字节码(机器语言指令)的基于堆栈的虚拟机
- 数据库(Blockchain)
  以太坊的区块链作为数据库（通常是 Google 的 LevelDB）本地存储在每个节点上，包含序列化后的交易和系统状态
- 客户端()
  以太坊有几种可互操作的客户端软件实现，其中最突出的是 Go-Ethereum(Geth)和 Parity

## 以太坊中的重要概念

- 账户（Account）
  包含地址，余额和随机数，以及可选的存储和代码对象。
  - 普通账户（EOA）, 存储和代码均为空
  - 合约用户（Contract）, 包含存储和代码
- 地址（Address）
  一般来说，这代表一个 EOA 或合约，它可以在区块链上接收或发送交易。更具体地说，它是 ECDSA 公钥的 keccak 散列的最右边的 160 位
- 交易（Transaction）
  - 可以发送以太币和信息
  - 向合约发送的交易可以调用合约代码，并以信息数据为函数参数
  - 向空用户发送信息，可以自动生成以信息为代码块的合约账户
- gas
  以太坊用于执行智能合约的虚拟燃料。以太坊虚拟机使用核算机制来衡量 gas 的消耗量并限制计算资源的消耗
