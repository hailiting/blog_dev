<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavascriptQA 工程师 | hailiting Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog_dev/logo.png">
    <meta name="description" content="hailiting Blog">
    
    <link rel="preload" href="/blog_dev/assets/css/0.styles.e9faf17d.css" as="style"><link rel="preload" href="/blog_dev/assets/js/app.709da227.js" as="script"><link rel="preload" href="/blog_dev/assets/js/2.556b46b5.js" as="script"><link rel="preload" href="/blog_dev/assets/js/116.49621d87.js" as="script"><link rel="prefetch" href="/blog_dev/assets/js/10.d061a1d9.js"><link rel="prefetch" href="/blog_dev/assets/js/100.0c7b74b5.js"><link rel="prefetch" href="/blog_dev/assets/js/101.63725a21.js"><link rel="prefetch" href="/blog_dev/assets/js/102.a0aa8352.js"><link rel="prefetch" href="/blog_dev/assets/js/103.3f4859f8.js"><link rel="prefetch" href="/blog_dev/assets/js/104.c375d9a0.js"><link rel="prefetch" href="/blog_dev/assets/js/105.3ab4f216.js"><link rel="prefetch" href="/blog_dev/assets/js/106.39c53827.js"><link rel="prefetch" href="/blog_dev/assets/js/107.f2a28572.js"><link rel="prefetch" href="/blog_dev/assets/js/108.dba8d9ec.js"><link rel="prefetch" href="/blog_dev/assets/js/109.be1a59c4.js"><link rel="prefetch" href="/blog_dev/assets/js/11.1fac2bc6.js"><link rel="prefetch" href="/blog_dev/assets/js/110.4e9a9fb3.js"><link rel="prefetch" href="/blog_dev/assets/js/111.e70ebf37.js"><link rel="prefetch" href="/blog_dev/assets/js/112.c2acf0c5.js"><link rel="prefetch" href="/blog_dev/assets/js/113.2c4c2f15.js"><link rel="prefetch" href="/blog_dev/assets/js/114.395922dd.js"><link rel="prefetch" href="/blog_dev/assets/js/115.4bca9bf3.js"><link rel="prefetch" href="/blog_dev/assets/js/117.16ada7ad.js"><link rel="prefetch" href="/blog_dev/assets/js/118.2565919e.js"><link rel="prefetch" href="/blog_dev/assets/js/119.c12bdd10.js"><link rel="prefetch" href="/blog_dev/assets/js/12.4576cc3f.js"><link rel="prefetch" href="/blog_dev/assets/js/120.7939ff97.js"><link rel="prefetch" href="/blog_dev/assets/js/121.c26e4264.js"><link rel="prefetch" href="/blog_dev/assets/js/122.50fc8ef5.js"><link rel="prefetch" href="/blog_dev/assets/js/123.ffe9a78f.js"><link rel="prefetch" href="/blog_dev/assets/js/124.5aee6dd1.js"><link rel="prefetch" href="/blog_dev/assets/js/125.11cf3383.js"><link rel="prefetch" href="/blog_dev/assets/js/126.b056850f.js"><link rel="prefetch" href="/blog_dev/assets/js/127.80bc5fff.js"><link rel="prefetch" href="/blog_dev/assets/js/128.afdd2e1e.js"><link rel="prefetch" href="/blog_dev/assets/js/129.bd933eb7.js"><link rel="prefetch" href="/blog_dev/assets/js/13.bc140e8c.js"><link rel="prefetch" href="/blog_dev/assets/js/130.a87b24d0.js"><link rel="prefetch" href="/blog_dev/assets/js/131.9127e428.js"><link rel="prefetch" href="/blog_dev/assets/js/132.5baa85a6.js"><link rel="prefetch" href="/blog_dev/assets/js/133.e6519713.js"><link rel="prefetch" href="/blog_dev/assets/js/134.dbdebdb7.js"><link rel="prefetch" href="/blog_dev/assets/js/135.50b8f3cc.js"><link rel="prefetch" href="/blog_dev/assets/js/136.c9731137.js"><link rel="prefetch" href="/blog_dev/assets/js/137.f57d3761.js"><link rel="prefetch" href="/blog_dev/assets/js/138.6a94bea2.js"><link rel="prefetch" href="/blog_dev/assets/js/139.cdff373d.js"><link rel="prefetch" href="/blog_dev/assets/js/14.d889f0ed.js"><link rel="prefetch" href="/blog_dev/assets/js/140.dd2e3ba1.js"><link rel="prefetch" href="/blog_dev/assets/js/141.7a915726.js"><link rel="prefetch" href="/blog_dev/assets/js/142.58a0db92.js"><link rel="prefetch" href="/blog_dev/assets/js/143.182403fc.js"><link rel="prefetch" href="/blog_dev/assets/js/144.dcd6bf77.js"><link rel="prefetch" href="/blog_dev/assets/js/145.d06933fa.js"><link rel="prefetch" href="/blog_dev/assets/js/146.fd698fa3.js"><link rel="prefetch" href="/blog_dev/assets/js/147.2eaef6d1.js"><link rel="prefetch" href="/blog_dev/assets/js/148.3e1c96ae.js"><link rel="prefetch" href="/blog_dev/assets/js/149.bb7c3714.js"><link rel="prefetch" href="/blog_dev/assets/js/15.4ca3d2e1.js"><link rel="prefetch" href="/blog_dev/assets/js/150.937db40c.js"><link rel="prefetch" href="/blog_dev/assets/js/151.e911967c.js"><link rel="prefetch" href="/blog_dev/assets/js/152.ba1a29a5.js"><link rel="prefetch" href="/blog_dev/assets/js/153.47a6243a.js"><link rel="prefetch" href="/blog_dev/assets/js/154.511b473a.js"><link rel="prefetch" href="/blog_dev/assets/js/155.b8cce54b.js"><link rel="prefetch" href="/blog_dev/assets/js/156.8898b2f9.js"><link rel="prefetch" href="/blog_dev/assets/js/157.5f06ed86.js"><link rel="prefetch" href="/blog_dev/assets/js/158.137235af.js"><link rel="prefetch" href="/blog_dev/assets/js/159.0e9ce62a.js"><link rel="prefetch" href="/blog_dev/assets/js/16.456961f6.js"><link rel="prefetch" href="/blog_dev/assets/js/160.38d855a7.js"><link rel="prefetch" href="/blog_dev/assets/js/161.3590c707.js"><link rel="prefetch" href="/blog_dev/assets/js/162.86630534.js"><link rel="prefetch" href="/blog_dev/assets/js/163.6e13f473.js"><link rel="prefetch" href="/blog_dev/assets/js/164.d1fb6be0.js"><link rel="prefetch" href="/blog_dev/assets/js/165.f60ddeb1.js"><link rel="prefetch" href="/blog_dev/assets/js/166.32edcf10.js"><link rel="prefetch" href="/blog_dev/assets/js/167.c186a3aa.js"><link rel="prefetch" href="/blog_dev/assets/js/168.b4d579ba.js"><link rel="prefetch" href="/blog_dev/assets/js/169.67440797.js"><link rel="prefetch" href="/blog_dev/assets/js/17.529aaf8b.js"><link rel="prefetch" href="/blog_dev/assets/js/170.9764038a.js"><link rel="prefetch" href="/blog_dev/assets/js/171.6f3a2180.js"><link rel="prefetch" href="/blog_dev/assets/js/172.519538bf.js"><link rel="prefetch" href="/blog_dev/assets/js/173.9f7d6b1c.js"><link rel="prefetch" href="/blog_dev/assets/js/174.135c3ff2.js"><link rel="prefetch" href="/blog_dev/assets/js/175.fad4b7cd.js"><link rel="prefetch" href="/blog_dev/assets/js/176.a7e8b342.js"><link rel="prefetch" href="/blog_dev/assets/js/177.bc7d98e9.js"><link rel="prefetch" href="/blog_dev/assets/js/178.013841ad.js"><link rel="prefetch" href="/blog_dev/assets/js/179.ea55a800.js"><link rel="prefetch" href="/blog_dev/assets/js/18.c501dfa3.js"><link rel="prefetch" href="/blog_dev/assets/js/180.3fc7fc18.js"><link rel="prefetch" href="/blog_dev/assets/js/181.00d79ee8.js"><link rel="prefetch" href="/blog_dev/assets/js/182.75ce3c02.js"><link rel="prefetch" href="/blog_dev/assets/js/183.a111b430.js"><link rel="prefetch" href="/blog_dev/assets/js/184.934f6bbd.js"><link rel="prefetch" href="/blog_dev/assets/js/185.fd9febdb.js"><link rel="prefetch" href="/blog_dev/assets/js/186.0a342597.js"><link rel="prefetch" href="/blog_dev/assets/js/187.9e4b1686.js"><link rel="prefetch" href="/blog_dev/assets/js/188.2989272b.js"><link rel="prefetch" href="/blog_dev/assets/js/189.f45e0987.js"><link rel="prefetch" href="/blog_dev/assets/js/19.d413d821.js"><link rel="prefetch" href="/blog_dev/assets/js/190.83d10781.js"><link rel="prefetch" href="/blog_dev/assets/js/191.2b4e0c89.js"><link rel="prefetch" href="/blog_dev/assets/js/192.48865ed5.js"><link rel="prefetch" href="/blog_dev/assets/js/193.c01826d8.js"><link rel="prefetch" href="/blog_dev/assets/js/194.74e50b36.js"><link rel="prefetch" href="/blog_dev/assets/js/195.aa29f582.js"><link rel="prefetch" href="/blog_dev/assets/js/196.aca00a42.js"><link rel="prefetch" href="/blog_dev/assets/js/197.40b2c10e.js"><link rel="prefetch" href="/blog_dev/assets/js/198.33842e64.js"><link rel="prefetch" href="/blog_dev/assets/js/199.29e6325b.js"><link rel="prefetch" href="/blog_dev/assets/js/20.c89e4367.js"><link rel="prefetch" href="/blog_dev/assets/js/200.a7bce9d6.js"><link rel="prefetch" href="/blog_dev/assets/js/201.5025c6d3.js"><link rel="prefetch" href="/blog_dev/assets/js/202.c99897b4.js"><link rel="prefetch" href="/blog_dev/assets/js/203.347f1189.js"><link rel="prefetch" href="/blog_dev/assets/js/204.8de572ee.js"><link rel="prefetch" href="/blog_dev/assets/js/205.45483b34.js"><link rel="prefetch" href="/blog_dev/assets/js/206.c31290f0.js"><link rel="prefetch" href="/blog_dev/assets/js/207.e3f41a9a.js"><link rel="prefetch" href="/blog_dev/assets/js/208.d0dfd243.js"><link rel="prefetch" href="/blog_dev/assets/js/209.995ec2cb.js"><link rel="prefetch" href="/blog_dev/assets/js/21.25b239e1.js"><link rel="prefetch" href="/blog_dev/assets/js/210.e7965c3a.js"><link rel="prefetch" href="/blog_dev/assets/js/211.6b257aba.js"><link rel="prefetch" href="/blog_dev/assets/js/212.4a1cc3ec.js"><link rel="prefetch" href="/blog_dev/assets/js/213.31f8bf45.js"><link rel="prefetch" href="/blog_dev/assets/js/214.313c7b41.js"><link rel="prefetch" href="/blog_dev/assets/js/215.ee241838.js"><link rel="prefetch" href="/blog_dev/assets/js/216.3543cf04.js"><link rel="prefetch" href="/blog_dev/assets/js/217.0d6ea85b.js"><link rel="prefetch" href="/blog_dev/assets/js/218.80640071.js"><link rel="prefetch" href="/blog_dev/assets/js/219.151cb78a.js"><link rel="prefetch" href="/blog_dev/assets/js/22.d89f4d90.js"><link rel="prefetch" href="/blog_dev/assets/js/220.0eae0afd.js"><link rel="prefetch" href="/blog_dev/assets/js/221.8f8817b7.js"><link rel="prefetch" href="/blog_dev/assets/js/222.ae4bc9b6.js"><link rel="prefetch" href="/blog_dev/assets/js/223.a7aed6fa.js"><link rel="prefetch" href="/blog_dev/assets/js/224.025821c5.js"><link rel="prefetch" href="/blog_dev/assets/js/225.97d213b8.js"><link rel="prefetch" href="/blog_dev/assets/js/226.4578e374.js"><link rel="prefetch" href="/blog_dev/assets/js/227.dfd2b951.js"><link rel="prefetch" href="/blog_dev/assets/js/228.f25dfcc5.js"><link rel="prefetch" href="/blog_dev/assets/js/229.49de06f2.js"><link rel="prefetch" href="/blog_dev/assets/js/23.37517448.js"><link rel="prefetch" href="/blog_dev/assets/js/230.74de1167.js"><link rel="prefetch" href="/blog_dev/assets/js/231.109f1608.js"><link rel="prefetch" href="/blog_dev/assets/js/232.b199ca54.js"><link rel="prefetch" href="/blog_dev/assets/js/233.e5505590.js"><link rel="prefetch" href="/blog_dev/assets/js/234.540cc14b.js"><link rel="prefetch" href="/blog_dev/assets/js/235.2c3a6404.js"><link rel="prefetch" href="/blog_dev/assets/js/236.7b387bc5.js"><link rel="prefetch" href="/blog_dev/assets/js/237.739ab0f9.js"><link rel="prefetch" href="/blog_dev/assets/js/238.fac109c9.js"><link rel="prefetch" href="/blog_dev/assets/js/239.1e997e2c.js"><link rel="prefetch" href="/blog_dev/assets/js/24.8c152fef.js"><link rel="prefetch" href="/blog_dev/assets/js/240.0b145d5f.js"><link rel="prefetch" href="/blog_dev/assets/js/241.09c4ce68.js"><link rel="prefetch" href="/blog_dev/assets/js/242.1e13a030.js"><link rel="prefetch" href="/blog_dev/assets/js/243.306372f7.js"><link rel="prefetch" href="/blog_dev/assets/js/244.63184878.js"><link rel="prefetch" href="/blog_dev/assets/js/245.8bcac252.js"><link rel="prefetch" href="/blog_dev/assets/js/246.99622cb5.js"><link rel="prefetch" href="/blog_dev/assets/js/247.34bd3960.js"><link rel="prefetch" href="/blog_dev/assets/js/248.2861f31a.js"><link rel="prefetch" href="/blog_dev/assets/js/249.6f62b76b.js"><link rel="prefetch" href="/blog_dev/assets/js/25.3bd7dbd6.js"><link rel="prefetch" href="/blog_dev/assets/js/250.441d1201.js"><link rel="prefetch" href="/blog_dev/assets/js/251.d1e30efd.js"><link rel="prefetch" href="/blog_dev/assets/js/252.1b993b77.js"><link rel="prefetch" href="/blog_dev/assets/js/253.7dd3cb2d.js"><link rel="prefetch" href="/blog_dev/assets/js/254.08d6a027.js"><link rel="prefetch" href="/blog_dev/assets/js/255.a95d32c3.js"><link rel="prefetch" href="/blog_dev/assets/js/256.4c0097ae.js"><link rel="prefetch" href="/blog_dev/assets/js/257.ccef358b.js"><link rel="prefetch" href="/blog_dev/assets/js/258.fcccb1d9.js"><link rel="prefetch" href="/blog_dev/assets/js/259.8c4e2a5b.js"><link rel="prefetch" href="/blog_dev/assets/js/26.357db678.js"><link rel="prefetch" href="/blog_dev/assets/js/260.45184866.js"><link rel="prefetch" href="/blog_dev/assets/js/261.57d645d4.js"><link rel="prefetch" href="/blog_dev/assets/js/262.cec8a62e.js"><link rel="prefetch" href="/blog_dev/assets/js/263.e8923920.js"><link rel="prefetch" href="/blog_dev/assets/js/264.37b490f7.js"><link rel="prefetch" href="/blog_dev/assets/js/265.ee7b00f6.js"><link rel="prefetch" href="/blog_dev/assets/js/266.0c31de3b.js"><link rel="prefetch" href="/blog_dev/assets/js/267.62925b15.js"><link rel="prefetch" href="/blog_dev/assets/js/268.6069bb2b.js"><link rel="prefetch" href="/blog_dev/assets/js/269.3c64c573.js"><link rel="prefetch" href="/blog_dev/assets/js/27.64c767de.js"><link rel="prefetch" href="/blog_dev/assets/js/270.ff44d5ab.js"><link rel="prefetch" href="/blog_dev/assets/js/271.de3eed75.js"><link rel="prefetch" href="/blog_dev/assets/js/272.9d9b6f12.js"><link rel="prefetch" href="/blog_dev/assets/js/273.b66c0be1.js"><link rel="prefetch" href="/blog_dev/assets/js/274.4d1bfedc.js"><link rel="prefetch" href="/blog_dev/assets/js/275.b7eceff6.js"><link rel="prefetch" href="/blog_dev/assets/js/276.eccd169a.js"><link rel="prefetch" href="/blog_dev/assets/js/277.a3a88438.js"><link rel="prefetch" href="/blog_dev/assets/js/278.22309baf.js"><link rel="prefetch" href="/blog_dev/assets/js/279.4373be14.js"><link rel="prefetch" href="/blog_dev/assets/js/28.0eaddbe2.js"><link rel="prefetch" href="/blog_dev/assets/js/280.bd9fb67f.js"><link rel="prefetch" href="/blog_dev/assets/js/281.2d9a98be.js"><link rel="prefetch" href="/blog_dev/assets/js/282.b90e372b.js"><link rel="prefetch" href="/blog_dev/assets/js/283.ec34c046.js"><link rel="prefetch" href="/blog_dev/assets/js/284.512f07f4.js"><link rel="prefetch" href="/blog_dev/assets/js/285.84d0ed1e.js"><link rel="prefetch" href="/blog_dev/assets/js/286.433c7816.js"><link rel="prefetch" href="/blog_dev/assets/js/287.0d3753f9.js"><link rel="prefetch" href="/blog_dev/assets/js/288.1c8d7744.js"><link rel="prefetch" href="/blog_dev/assets/js/289.476af6b9.js"><link rel="prefetch" href="/blog_dev/assets/js/29.5dd473c0.js"><link rel="prefetch" href="/blog_dev/assets/js/290.cbc40d8f.js"><link rel="prefetch" href="/blog_dev/assets/js/291.8346da5f.js"><link rel="prefetch" href="/blog_dev/assets/js/292.7384b627.js"><link rel="prefetch" href="/blog_dev/assets/js/293.63d74868.js"><link rel="prefetch" href="/blog_dev/assets/js/294.1410f408.js"><link rel="prefetch" href="/blog_dev/assets/js/295.952ce9ba.js"><link rel="prefetch" href="/blog_dev/assets/js/296.991a0da7.js"><link rel="prefetch" href="/blog_dev/assets/js/297.ec2fb727.js"><link rel="prefetch" href="/blog_dev/assets/js/298.c43e6ee0.js"><link rel="prefetch" href="/blog_dev/assets/js/299.02e81e03.js"><link rel="prefetch" href="/blog_dev/assets/js/3.bb975429.js"><link rel="prefetch" href="/blog_dev/assets/js/30.351b19a1.js"><link rel="prefetch" href="/blog_dev/assets/js/300.e4df5ed6.js"><link rel="prefetch" href="/blog_dev/assets/js/301.224fc9b4.js"><link rel="prefetch" href="/blog_dev/assets/js/302.ed9189c5.js"><link rel="prefetch" href="/blog_dev/assets/js/303.f0b78d10.js"><link rel="prefetch" href="/blog_dev/assets/js/304.6ec9ed66.js"><link rel="prefetch" href="/blog_dev/assets/js/305.c579e253.js"><link rel="prefetch" href="/blog_dev/assets/js/306.ac462491.js"><link rel="prefetch" href="/blog_dev/assets/js/307.abcd03c4.js"><link rel="prefetch" href="/blog_dev/assets/js/308.401c1772.js"><link rel="prefetch" href="/blog_dev/assets/js/309.84e52cc8.js"><link rel="prefetch" href="/blog_dev/assets/js/31.92bd6220.js"><link rel="prefetch" href="/blog_dev/assets/js/310.838924a1.js"><link rel="prefetch" href="/blog_dev/assets/js/311.c2d70590.js"><link rel="prefetch" href="/blog_dev/assets/js/312.892f867d.js"><link rel="prefetch" href="/blog_dev/assets/js/313.3f307c3e.js"><link rel="prefetch" href="/blog_dev/assets/js/314.a3ea90d5.js"><link rel="prefetch" href="/blog_dev/assets/js/315.6b095340.js"><link rel="prefetch" href="/blog_dev/assets/js/316.4f5b4c9b.js"><link rel="prefetch" href="/blog_dev/assets/js/317.66641d59.js"><link rel="prefetch" href="/blog_dev/assets/js/318.652dafd2.js"><link rel="prefetch" href="/blog_dev/assets/js/319.8dd6b519.js"><link rel="prefetch" href="/blog_dev/assets/js/32.fde56041.js"><link rel="prefetch" href="/blog_dev/assets/js/320.1fca28a4.js"><link rel="prefetch" href="/blog_dev/assets/js/321.6a52b165.js"><link rel="prefetch" href="/blog_dev/assets/js/322.4e9919d1.js"><link rel="prefetch" href="/blog_dev/assets/js/323.8a96f35f.js"><link rel="prefetch" href="/blog_dev/assets/js/324.590862d1.js"><link rel="prefetch" href="/blog_dev/assets/js/33.43b6d3a3.js"><link rel="prefetch" href="/blog_dev/assets/js/34.7ba26882.js"><link rel="prefetch" href="/blog_dev/assets/js/35.dd4ed088.js"><link rel="prefetch" href="/blog_dev/assets/js/36.114c5ba1.js"><link rel="prefetch" href="/blog_dev/assets/js/37.1952dd28.js"><link rel="prefetch" href="/blog_dev/assets/js/38.da914b09.js"><link rel="prefetch" href="/blog_dev/assets/js/39.7e26b7b2.js"><link rel="prefetch" href="/blog_dev/assets/js/4.47949fe2.js"><link rel="prefetch" href="/blog_dev/assets/js/40.b53ac1b8.js"><link rel="prefetch" href="/blog_dev/assets/js/41.ae8b1f98.js"><link rel="prefetch" href="/blog_dev/assets/js/42.479e9251.js"><link rel="prefetch" href="/blog_dev/assets/js/43.91d2fa5d.js"><link rel="prefetch" href="/blog_dev/assets/js/44.45a27817.js"><link rel="prefetch" href="/blog_dev/assets/js/45.9ba1f8c4.js"><link rel="prefetch" href="/blog_dev/assets/js/46.2eae6d1e.js"><link rel="prefetch" href="/blog_dev/assets/js/47.95b6f8e1.js"><link rel="prefetch" href="/blog_dev/assets/js/48.f0161ea5.js"><link rel="prefetch" href="/blog_dev/assets/js/49.5d642580.js"><link rel="prefetch" href="/blog_dev/assets/js/5.0ac632f7.js"><link rel="prefetch" href="/blog_dev/assets/js/50.8bd7a35f.js"><link rel="prefetch" href="/blog_dev/assets/js/51.56ae0cc4.js"><link rel="prefetch" href="/blog_dev/assets/js/52.ca920ca8.js"><link rel="prefetch" href="/blog_dev/assets/js/53.173c70ac.js"><link rel="prefetch" href="/blog_dev/assets/js/54.523b339d.js"><link rel="prefetch" href="/blog_dev/assets/js/55.ac75c90f.js"><link rel="prefetch" href="/blog_dev/assets/js/56.2e111d42.js"><link rel="prefetch" href="/blog_dev/assets/js/57.f51b48a0.js"><link rel="prefetch" href="/blog_dev/assets/js/58.1d77fc82.js"><link rel="prefetch" href="/blog_dev/assets/js/59.996c6ec0.js"><link rel="prefetch" href="/blog_dev/assets/js/6.7d92400c.js"><link rel="prefetch" href="/blog_dev/assets/js/60.9b1925f8.js"><link rel="prefetch" href="/blog_dev/assets/js/61.2622607d.js"><link rel="prefetch" href="/blog_dev/assets/js/62.9960ec8b.js"><link rel="prefetch" href="/blog_dev/assets/js/63.cc80d5d8.js"><link rel="prefetch" href="/blog_dev/assets/js/64.cd9d858a.js"><link rel="prefetch" href="/blog_dev/assets/js/65.2e5ca607.js"><link rel="prefetch" href="/blog_dev/assets/js/66.8be3c4c0.js"><link rel="prefetch" href="/blog_dev/assets/js/67.1eefd7d5.js"><link rel="prefetch" href="/blog_dev/assets/js/68.adf762ce.js"><link rel="prefetch" href="/blog_dev/assets/js/69.27c95c35.js"><link rel="prefetch" href="/blog_dev/assets/js/7.01b296e3.js"><link rel="prefetch" href="/blog_dev/assets/js/70.5097ac5d.js"><link rel="prefetch" href="/blog_dev/assets/js/71.e261fe0c.js"><link rel="prefetch" href="/blog_dev/assets/js/72.d5582ca6.js"><link rel="prefetch" href="/blog_dev/assets/js/73.8c99b9a5.js"><link rel="prefetch" href="/blog_dev/assets/js/74.360f75b2.js"><link rel="prefetch" href="/blog_dev/assets/js/75.31152e1a.js"><link rel="prefetch" href="/blog_dev/assets/js/76.1e48dadb.js"><link rel="prefetch" href="/blog_dev/assets/js/77.0d614aa8.js"><link rel="prefetch" href="/blog_dev/assets/js/78.d6dc4f4b.js"><link rel="prefetch" href="/blog_dev/assets/js/79.50283d30.js"><link rel="prefetch" href="/blog_dev/assets/js/8.7983d5a6.js"><link rel="prefetch" href="/blog_dev/assets/js/80.a52496b7.js"><link rel="prefetch" href="/blog_dev/assets/js/81.ea8065b9.js"><link rel="prefetch" href="/blog_dev/assets/js/82.8bc4a3cc.js"><link rel="prefetch" href="/blog_dev/assets/js/83.7fe873c1.js"><link rel="prefetch" href="/blog_dev/assets/js/84.d65a2741.js"><link rel="prefetch" href="/blog_dev/assets/js/85.27a9c21c.js"><link rel="prefetch" href="/blog_dev/assets/js/86.6d7e13c8.js"><link rel="prefetch" href="/blog_dev/assets/js/87.858dd9e0.js"><link rel="prefetch" href="/blog_dev/assets/js/88.c0d83d71.js"><link rel="prefetch" href="/blog_dev/assets/js/89.c6b08127.js"><link rel="prefetch" href="/blog_dev/assets/js/9.f2a5f044.js"><link rel="prefetch" href="/blog_dev/assets/js/90.4338e0cf.js"><link rel="prefetch" href="/blog_dev/assets/js/91.399fb4ca.js"><link rel="prefetch" href="/blog_dev/assets/js/92.ff317d0d.js"><link rel="prefetch" href="/blog_dev/assets/js/93.208e1694.js"><link rel="prefetch" href="/blog_dev/assets/js/94.13d481a5.js"><link rel="prefetch" href="/blog_dev/assets/js/95.984e2214.js"><link rel="prefetch" href="/blog_dev/assets/js/96.c1a273fa.js"><link rel="prefetch" href="/blog_dev/assets/js/97.bcbd1649.js"><link rel="prefetch" href="/blog_dev/assets/js/98.3fa49da9.js"><link rel="prefetch" href="/blog_dev/assets/js/99.fc09a5b7.js">
    <link rel="stylesheet" href="/blog_dev/assets/css/0.styles.e9faf17d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog_dev/" class="home-link router-link-active"><!----> <span class="site-name">hailiting Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Demo笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flutter</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog_dev/HTTP协议和反向代理.html" class="sidebar-link">浏览器行为与HTTP协议</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog_dev/JavaScript/Array对象方法.html" class="sidebar-link">Array 对象方法</a></li><li><a href="/blog_dev/JavaScript/AsyncAwait.html" class="sidebar-link">AsyncAwait</a></li><li><a href="/blog_dev/JavaScript/ES5_JSON_JSONP.html" class="sidebar-link">ES5 JSON JSONP</a></li><li><a href="/blog_dev/JavaScript/ES5_Object对象.html" class="sidebar-link">Object 对象</a></li><li><a href="/blog_dev/JavaScript/ES5_严格模式.html" class="sidebar-link">ES5 严格模式 &quot;use strict&quot;;</a></li><li><a href="/blog_dev/JavaScript/ES5_作用域与闭包.html" class="sidebar-link">ES5 作用域与闭包</a></li><li><a href="/blog_dev/JavaScript/ES5_核心.html" class="sidebar-link">ES5 核心</a></li><li><a href="/blog_dev/JavaScript/ES6_基础.html" class="sidebar-link">ES6 基础</a></li><li><a href="/blog_dev/JavaScript/ES6在企业中的应用.html" class="sidebar-link">ES6 在企业中的应用</a></li><li><a href="/blog_dev/JavaScript/ES6基础_newSet.html" class="sidebar-link">ES6 基础_newSet</a></li><li><a href="/blog_dev/JavaScript/Generator.html" class="sidebar-link">Generator</a></li><li><a href="/blog_dev/JavaScript/JS_AES加密.html" class="sidebar-link">JS_AES 加密</a></li><li><a href="/blog_dev/JavaScript/JS_api(一).html" class="sidebar-link">JS 常用 api（一）</a></li><li><a href="/blog_dev/JavaScript/JS从原型到原型链.html" class="sidebar-link">从原型到原型链</a></li><li><a href="/blog_dev/JavaScript/JS图片压缩.html" class="sidebar-link">JS 图片压缩</a></li><li><a href="/blog_dev/JavaScript/JS基础.html" class="sidebar-link">JS 基础</a></li><li><a href="/blog_dev/JavaScript/JS理论基础（1）.html" class="sidebar-link">创建对象的几种方式</a></li><li><a href="/blog_dev/JavaScript/JavaScript语言精粹1.html" class="sidebar-link">JavaScript 语言精粹 1</a></li><li><a href="/blog_dev/JavaScript/JavaScript语言精粹2.html" class="sidebar-link">JavaScript 语言精粹 2</a></li><li><a href="/blog_dev/JavaScript/Javascript与QA工程师.html" class="active sidebar-link">JavascriptQA 工程师</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#测试核心概念" class="sidebar-link">测试核心概念</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#为什么要测试" class="sidebar-link">为什么要测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#单元测试" class="sidebar-link">单元测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#单元测试框架" class="sidebar-link">单元测试框架</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#单元测试运行流程" class="sidebar-link">单元测试运行流程</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#自动化单元测试" class="sidebar-link">自动化单元测试</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#基准测试" class="sidebar-link">基准测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#压力测试" class="sidebar-link">压力测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#安全测试" class="sidebar-link">安全测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#功能测试" class="sidebar-link">功能测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#用户真实性检查" class="sidebar-link">用户真实性检查</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#javascript-lint-hint" class="sidebar-link">Javascript Lint &amp; Hint</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#具体实践" class="sidebar-link">具体实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#karma-单元测试" class="sidebar-link">karma 单元测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#backstop-ui-走查" class="sidebar-link">backstop UI 走查</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#e2e-测试-自动化-selenium-webdriver" class="sidebar-link">e2e 测试 自动化 selenium-webdriver</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#service-异步测试" class="sidebar-link">service 异步测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#mocha-service-异步测试" class="sidebar-link">mocha service 异步测试</a></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#chai-断言库" class="sidebar-link">chai 断言库</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_dev/JavaScript/Javascript与QA工程师.html#jest-测试" class="sidebar-link">jest 测试</a></li></ul></li><li><a href="/blog_dev/JavaScript/Object_create原理.html" class="sidebar-link">Object.create 原理</a></li><li><a href="/blog_dev/JavaScript/" aria-current="page" class="sidebar-link">长用js工具</a></li><li><a href="/blog_dev/JavaScript/ResizeObserver.html" class="sidebar-link">ResizeObserver</a></li><li><a href="/blog_dev/JavaScript/StringRow.html" class="sidebar-link">StringRow</a></li><li><a href="/blog_dev/JavaScript/TypeScript前世今生.html" class="sidebar-link">TypeScript 前世今生</a></li><li><a href="/blog_dev/JavaScript/arguments详解.html" class="sidebar-link">arguments 详解</a></li><li><a href="/blog_dev/JavaScript/babel基础.html" class="sidebar-link">不可不知的 babel 基础</a></li><li><a href="/blog_dev/JavaScript/forin和forof的区别.html" class="sidebar-link">forin 和 forof 的区别</a></li><li><a href="/blog_dev/JavaScript/jquery源码学习.html" class="sidebar-link">jquery 源码学习</a></li><li><a href="/blog_dev/JavaScript/js中for循环点击事件.html" class="sidebar-link">js 中 for 循环点击事件</a></li><li><a href="/blog_dev/JavaScript/js内存泄露的几种情况.html" class="sidebar-link">js 内存泄露的几种情况</a></li><li><a href="/blog_dev/JavaScript/js获取当前端口号.html" class="sidebar-link">js 获取当前端口号</a></li><li><a href="/blog_dev/JavaScript/utils.html" class="sidebar-link">工作中常用的工具类</a></li><li><a href="/blog_dev/JavaScript/web与端交互逻辑.html" class="sidebar-link">web 与端交互逻辑</a></li><li><a href="/blog_dev/JavaScript/函数式编程.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog_dev/JavaScript/判断字符串是否包含某个字符串.html" class="sidebar-link">判断字符串是否包含某个字符串</a></li><li><a href="/blog_dev/JavaScript/前端中常用的设计模式.html" class="sidebar-link">前端中常用的设计模式</a></li><li><a href="/blog_dev/JavaScript/浅拷贝与深拷贝.html" class="sidebar-link">浅拷贝与深拷贝</a></li><li><a href="/blog_dev/JavaScript/浅谈IndexDB.html" class="sidebar-link">浅谈 IndexDB：浏览器本地数据库数据存储</a></li><li><a href="/blog_dev/JavaScript/获取小数点位数.html" class="sidebar-link">/JavaScript/获取小数点位数.html</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PHP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ReactNative</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Rust</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Wechat</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mongodb</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mysql</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>npm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>区块链</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微信公众号</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日一道前端面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法与数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机服务基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>课程笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog_dev/课程表.html" class="sidebar-link">/课程表.html</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试之道</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascriptqa-工程师"><a href="#javascriptqa-工程师" class="header-anchor">#</a> JavascriptQA 工程师</h1> <p>工程师：白盒 黑盒</p> <h2 id="测试核心概念"><a href="#测试核心概念" class="header-anchor">#</a> 测试核心概念</h2> <ul><li>单元测试</li> <li>性能测试</li> <li>安全测试</li> <li>功能测试</li> <li>UI 还原测试</li></ul> <h2 id="为什么要测试"><a href="#为什么要测试" class="header-anchor">#</a> 为什么要测试</h2> <ul><li>正确性
测试可以验证代码的正确性，在上线前做到心里有底</li> <li>自动化
通过 console 打印内部消息的手工测试是一次性的事情，下次测试还得从头再来，效率不能得到保证。通过编写测试用例，一次编写，多次运行</li> <li>解释性
测试用例用于测试接口、模块的重要性。在测试用例中涉及使用到的 Api 的测试用例有时会比文档更清晰</li> <li>驱动开发，指导设计
代码被测试的前提是代码本身的可测试性，那么要保证代码的可测试性，就需要在开发中注意 Api 的设计，TDD（测试驱动开发）</li> <li>保证重构
产品迭代速度快，有测试用例做后盾，可以大胆的进行重构</li></ul> <h2 id="单元测试"><a href="#单元测试" class="header-anchor">#</a> 单元测试</h2> <p>目的：单元测试能让开发者明确知道代码的结果
原则：单一职责，接口抽象，层次分离
断言库：保证最小单元是否正常运行检测方法
测试风格：测试驱动开发(Test-Driven Development, TDD)、行为驱动开发(Behavior Driven Development, BDD)【都属于敏捷开发的方法论】</p> <p>TDD 关注所有功能是否被实现（每一个功能都必须有对应的测试用例），<code>suite配合test利用assert(&quot;tobi&quot;==user.name)</code>;
BDD 关注整体行为是否符合整体预期，编写的每一行代码都有目的的提供一个全面的测试用例集。expect/should, describe 配合 it 利用自然语言处理<code>expect(1).toEqual(fn())</code>执行结果。</p> <h3 id="单元测试框架"><a href="#单元测试框架" class="header-anchor">#</a> 单元测试框架</h3> <ul><li>better-assert(TDD 断言库)</li> <li>should.js(BDD 断言库)</li> <li>expect.js(BDD 断言库)</li> <li><strong>chai.js</strong>(TDD BDD 双模) // 比较常用的</li> <li><strong>Jasmine.js</strong>(BDD) // 比较常用的</li> <li>Node.js 本身集成 require(&quot;assert&quot;);</li> <li>Intern 更大而全的单元测试框架</li> <li>QUnit 一个游离在 JQuery 左右的测试框架</li> <li>Macaca 国产（阿里）</li></ul> <h3 id="单元测试运行流程"><a href="#单元测试运行流程" class="header-anchor">#</a> 单元测试运行流程</h3> <p>每个测试用例组通过 describe 进行设置
<code>before-&gt;beforeEach-&gt;it-&gt;after-&gt;afterEach</code></p> <ul><li>1，before 单个测试用例(it)开始前</li> <li>2，beforeEach 每个测试用例开始前</li> <li>3，it: 定义测试用例，并利用断言库进行设置 chai。如：expect(x).to.equal(true);异步 mocha。</li> <li>4，以上专业术语叫 mock</li></ul> <h3 id="自动化单元测试"><a href="#自动化单元测试" class="header-anchor">#</a> 自动化单元测试</h3> <p>karma 自动化 runner 集成<br>
PhantomJS 无刷新
Phantomcss ui 测试</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">npm</span> <span class="token function">install</span> karma --save-dev
<span class="token comment"># Install plugins that your project needs:</span>
$ <span class="token function">npm</span> <span class="token function">install</span> karma-jasmine karma-chrome-launcher jasmine-core --save-dev

$ <span class="token function">npm</span> i karma-coverage --save-dev <span class="token comment"># 代码覆盖率</span>


<span class="token comment"># npm install -g karma-cli</span>
./node_modules/karma/bin/karma init


<span class="token string">&quot;jasmine-core&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^3.7.1&quot;</span>,
<span class="token string">&quot;karma&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^6.3.2&quot;</span>,
<span class="token string">&quot;karma-chrome-launcher&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^3.1.0&quot;</span>,
<span class="token string">&quot;karma-jasmine&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^4.0.1&quot;</span>,
<span class="token string">&quot;karma-phantomjs-launcher&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^1.0.4&quot;</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>npm install karma --save-dev
npm install karma-cli --save-dev
npm install karma-chrome-launcher --save-dev
npm install karma-phantomjs-launcher --save-dev
npm install karma-mocha --save-dev
npm install karma-chai --save-dev
npm install karma-coverage --save-dev【报告和测试覆盖率检查】
[coverageReporter: {type:&quot;html&quot;, dir:&quot;coverage/&quot;}]
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&quot;karma&quot;: &quot;^1.4.1&quot;,
&quot;chai&quot;: &quot;^4.1.2&quot;,
&quot;cross-env&quot;: &quot;^5.0.1&quot;,
&quot;karma-coverage&quot;: &quot;^1.1.1&quot;,
&quot;karma-mocha&quot;: &quot;^1.3.0&quot;,
&quot;karma-phantomjs-launcher&quot;: &quot;^1.0.2&quot;,
&quot;karma-phantomjs-shim&quot;: &quot;^1.4.0&quot;,
&quot;karma-sinon-chai&quot;: &quot;^1.3.1&quot;,
&quot;karma-sourcemap-loader&quot;: &quot;^0.3.7&quot;,
&quot;karma-spec-reporter&quot;: &quot;0.0.31&quot;,
&quot;karma-webpack&quot;: &quot;^2.0.2&quot;,
&quot;mocha&quot;: &quot;^3.2.0&quot;,
&quot;sinon&quot;: &quot;^4.0.0&quot;,
&quot;sinon-chai&quot;: &quot;^2.8.0&quot;,
&quot;inject-loader&quot;: &quot;^3.0.0&quot;,
&quot;babel-plugin-istanbul&quot;: &quot;^4.1.1&quot;,
&quot;phantomjs-prebuilt&quot;: &quot;^2.1.14&quot;,
</code></pre></div><h2 id="基准测试"><a href="#基准测试" class="header-anchor">#</a> 基准测试</h2> <ul><li>面向切面编程 AOP 无侵入式</li> <li>Benchmark 基准测试方法，它并不是简单地统计执行多少次测试代码后对比时间，它对测试有着严密的抽样过程。执行多少次取决于采样到数据能否完成统计。根据统计次数计算方差。</li></ul> <h2 id="压力测试"><a href="#压力测试" class="header-anchor">#</a> 压力测试</h2> <ul><li>对网络接口做压力测试需要检查的几个常用指标有：吞吐率、响应时间、并发数，这些指标反映了服务器并发处理能力。</li> <li>PV 网站当日访问人数 UV 独立访问人数。 PV 每天在几十万过更高就需要考虑压力测试。换算公式：<code>QPS=PV/t</code>。【1000000/10<em>60</em>60=27.7 =》 100 万请求集中在 10 个小时，服务器每秒处理 27.7 个业务请求】</li> <li>常用压力测试工具是 ab、siege、http_load</li> <li>ab -c 100 -n 100 http://localhost:8001 每秒持续发出 28 个请求。
Request per second 表示服务器每秒请求数 即为 QPS
Failed requests 表示此次请求失败的请求数
理论上压测值越大，增加 ConnectionTimes 连接时间，它包括客户端向服务器端建立连接、服务器端处理请求、等待报文响应等过程。</li></ul> <h2 id="安全测试"><a href="#安全测试" class="header-anchor">#</a> 安全测试</h2> <p>安全漏洞检查</p> <ul><li>XSS</li> <li>SQL</li> <li>CSRF</li></ul> <h2 id="功能测试"><a href="#功能测试" class="header-anchor">#</a> 功能测试</h2> <h2 id="用户真实性检查"><a href="#用户真实性检查" class="header-anchor">#</a> 用户真实性检查</h2> <div class="language- extra-class"><pre class="language-text"><code>selenium-webdriver
protractor selenium-standalone
http://webdriver.io webdriver i/o
</code></pre></div><h4 id="冒烟测试-smoketest"><a href="#冒烟测试-smoketest" class="header-anchor">#</a> 冒烟测试 SmokeTest</h4> <p>自由测试的一种，找到 BUG 开发修复，然后专门针对此 BUG，优点：节省时间，防止 build 失败，缺点是覆盖率低。</p> <h4 id="回归测试"><a href="#回归测试" class="header-anchor">#</a> 回归测试</h4> <p>修改一处对整体功能全部测试，一般配合自动化测试。</p> <h3 id="javascript-lint-hint"><a href="#javascript-lint-hint" class="header-anchor">#</a> Javascript Lint &amp; Hint</h3> <ul><li>目的：检测 Javascript 代码标准</li> <li>原因：Javascript 代码诡异，保证团队代码规范</li> <li>搭配自动化任务管理工具完善自动化测试 grunt-jshint、grunt-jslint</li></ul> <h2 id="具体实践"><a href="#具体实践" class="header-anchor">#</a> 具体实践</h2> <p>短点
1，karma 集成 webpack
2，selenium-webdriver 的具体实现</p> <h3 id="karma-单元测试"><a href="#karma-单元测试" class="header-anchor">#</a> karma 单元测试</h3> <p>1，安装 karma 环境</p> <div class="language- extra-class"><pre class="language-text"><code>// 无头浏览器
npm install phantomjs --save-dev
// karma发射器
npm install --save-dev karma-phantomjs-launcher
npm install karma --save-dev
npm install karma-jasmine karma-chrome-launcher jasmine-core --save-dev
// karma-chrome-launcher 打开chrome浏览器
// jasmine-core 断言库
</code></pre></div><p>2，karma init
Which testing framework do you want to use ? 使用什么断言库</p> <ul><li>jasmine
Do you want to use Require.js ?</li> <li>no
Do you want to capture any browsers automatically ? 自动化运行环境【测试运行环境放哪】</li> <li>PhantomJS // 无头浏览器
What is the location of your source and test files ? 哪些文件需要监听
&quot;test/**/*Spec.js&quot;.
Should any of the files included by the previous patterns be excluded ? 哪些文件不管</li></ul> <p>Do you want Karma to watch all the files and run the tests on change ? 是否监测测试文件的变化</p> <ul><li>no</li></ul> <p>就会生成一个 karma.conf.js 到根目录</p> <p>3，测试
xx.spec.js
karma start</p> <p>4，生成报告
<code>npm install karma-coverage --save-dev</code></p> <div class="language- extra-class"><pre class="language-text"><code>module.exports = function(config){
  config.set({
    files:[
      &quot;src/**/*.js&quot;,
      &quot;test/**/*.js&quot;,
    ],
    reporters: [&quot;progress&quot;, &quot;coverage&quot;],
    // 指定对应的JS文件，去执行代码覆盖率
    preprocessors: [
      &quot;src/**/*.js&quot;: [&quot;coverage&quot;]
    ],
    // 生成报表
    coverageReporter: {
      type: &quot;html&quot;,
      dir: &quot;coverage/&quot;
    }
  })
}
</code></pre></div><p>如果想 karma start 运行，karma-coverage 必须全局装</p> <p>PM 产品 FE 前端 RD 后端</p> <h3 id="backstop-ui-走查"><a href="#backstop-ui-走查" class="header-anchor">#</a> backstop UI 走查</h3> <ul><li>用 Puppeteer 脚本模拟用户交互</li> <li>CLI 报告</li> <li>JUnit 报告</li> <li>与 CI 和源代码管理配合使用
1，<code>npm install -g backstopjs</code>
2，<code>backstop init</code><br>
根目录会有 backstop.json 和 engine_scripts 文件夹
backstop.json</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/// backstop.json</span>
id<span class="token operator">:</span> <span class="token string">&quot;自动生成一个文件，避免与BackstopJS资源名冲突&quot;</span><span class="token punctuation">,</span>
<span class="token comment">// 测试项目的一系列屏幕尺寸对象（至少一个）</span>
scenarios<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;phone&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;width&quot;</span><span class="token operator">:</span> <span class="token number">320</span><span class="token punctuation">,</span>
    <span class="token string">&quot;height&quot;</span><span class="token operator">:</span> <span class="token number">480</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 分块截图</span>
scenarios<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    label<span class="token operator">:</span> <span class="token string">&quot;截图名称&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;项目地址&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">// 输出配置</span>
paths
</code></pre></div><p>engine_scripts 里可以设置 cookies 等，可以编程。</p> <h5 id="ui-图放在-bitmaps-reference-里"><a href="#ui-图放在-bitmaps-reference-里" class="header-anchor">#</a> ui 图放在 bitmaps_reference 里</h5> <p>backstop_default_BackstopJS_Homepage_0_document_0_web.png</p> <p>3, <code>backstop test</code></p> <h3 id="e2e-测试-自动化-selenium-webdriver"><a href="#e2e-测试-自动化-selenium-webdriver" class="header-anchor">#</a> e2e 测试 自动化 selenium-webdriver</h3> <p>1,</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// npm install selenium-webdriver</span>
<span class="token comment">// 下载驱动</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Builder<span class="token punctuation">,</span> By<span class="token punctuation">,</span> Key<span class="token punctuation">,</span> until <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;selenium-webdriver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 打开启动</span>
  <span class="token keyword">let</span> driver <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forBrowser</span><span class="token punctuation">(</span><span class="token string">&quot;firefox&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.google.com/ncr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">findElement</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sendKeys</span><span class="token punctuation">(</span><span class="token string">&quot;webdriver&quot;</span><span class="token punctuation">,</span> Key<span class="token punctuation">.</span><span class="token constant">RETURN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>until<span class="token punctuation">.</span><span class="token function">titleIs</span><span class="token punctuation">(</span><span class="token string">&quot;webdriver - Google Search&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>2, 下载驱动，并解压到本地
npm 页面有好多浏览器的下载包，选择适合本机的下载
3,
<code>npm install --save-dev puppeteer rize</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 为了看到这个过程发生了什么headless: false</span>
<span class="token keyword">const</span> Rize <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;rize&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rize</span><span class="token punctuation">(</span><span class="token punctuation">{</span> headless<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
rize
  <span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&quot;https://github.com/&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">&quot;input.header-search-input&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">press</span><span class="token punctuation">(</span><span class="token string">&quot;Enter&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">waitForNavigation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">saveScreenshot</span><span class="token punctuation">(</span><span class="token string">&quot;searching-node.png&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="service-异步测试"><a href="#service-异步测试" class="header-anchor">#</a> service 异步测试</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// service/app.js</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token string">&quot;222&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> server <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;server start at 3000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app<span class="token punctuation">;</span>
</code></pre></div><h3 id="mocha-service-异步测试"><a href="#mocha-service-异步测试" class="header-anchor">#</a> mocha service 异步测试</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i mocha --save-dev
<span class="token comment"># mochawesome 测试报表</span>
mocha test.js --reporter mochawesome --reporter-options <span class="token assign-left variable">reportDir</span><span class="token operator">=</span>customReportDir,reportFilename<span class="token operator">=</span>customReportFilename
</code></pre></div><p>1，新建 mochaRunner.js 文件</p> <div class="language-js extra-class"><pre class="language-js"><code>npm i mocha <span class="token operator">--</span>save
npm i mochawesome <span class="token operator">--</span>save

<span class="token keyword">const</span> Mocha <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mocha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> mocha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mocha</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  reporter<span class="token operator">:</span> <span class="token string">&quot;mochawesome&quot;</span><span class="token punctuation">,</span>
  reporterOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    reportDir<span class="token operator">:</span> <span class="token string">&quot;./docs/mochawesome-report&quot;</span><span class="token punctuation">,</span>
    reportFilename<span class="token operator">:</span> <span class="token string">&quot;mochawesome-report&quot;</span><span class="token punctuation">,</span>
    quiet<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mocha<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">&quot;./service/router.spec.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mocha<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> supertest --save
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// router.spec.js</span>
<span class="token keyword">const</span> superagent <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;supertest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">superagent</span><span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;后台接口测试&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;test接口测试&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">json</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token string">&quot;ok message&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token string">&quot;err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="chai-断言库"><a href="#chai-断言库" class="header-anchor">#</a> chai 断言库</h3> <div class="language- extra-class"><pre class="language-text"><code>npm i chai --save
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;axios&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;chai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;后台接口测试&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;test接口测试&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    axios
      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:3100/test&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">expect</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token string">&quot;ok message111&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;数据不符合预期&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">done</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="chai-断言库常用语句"><a href="#chai-断言库常用语句" class="header-anchor">#</a> chai 断言库常用语句</h4> <div class="language-js extra-class"><pre class="language-js"><code>chai<span class="token punctuation">.</span><span class="token function">should</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>should<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>should<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>should<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">lengthOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tea<span class="token punctuation">.</span>should<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">&quot;flavors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>with<span class="token punctuation">.</span><span class="token function">lengthOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> expect <span class="token operator">=</span> chai<span class="token punctuation">.</span>expect<span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">lengthOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span>tea<span class="token punctuation">)</span>
  <span class="token punctuation">.</span>to<span class="token punctuation">.</span>have<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">&quot;flavors&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span>with<span class="token punctuation">.</span><span class="token function">lengthOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> assert <span class="token operator">=</span> chai<span class="token punctuation">.</span>assert<span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">typeOf</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">lengthOf</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span>tea<span class="token punctuation">,</span> <span class="token string">&quot;flavors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
assert<span class="token punctuation">.</span><span class="token function">lengthOf</span><span class="token punctuation">(</span>tea<span class="token punctuation">.</span>flavors<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="jest-测试"><a href="#jest-测试" class="header-anchor">#</a> jest 测试</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// shell</span>
npm i jest <span class="token operator">--</span>save<span class="token operator">-</span>dev
<span class="token comment">// package.json</span>
<span class="token string">&quot;e2e&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jest test/&quot;</span>

<span class="token comment">// test/index.test.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Builder<span class="token punctuation">,</span> By<span class="token punctuation">,</span> Key<span class="token punctuation">,</span> until <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;selenium-webdriver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;test google.com&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> driver<span class="token punctuation">;</span>
  <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    driver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forBrowser</span><span class="token punctuation">(</span><span class="token string">&quot;firefox&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    driver<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;should open google search&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.google.com/ncr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">findElement</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sendKeys</span><span class="token punctuation">(</span><span class="token string">&quot;webdriver&quot;</span><span class="token punctuation">,</span> Key<span class="token punctuation">.</span><span class="token constant">RETURN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>until<span class="token punctuation">.</span><span class="token function">titleIs</span><span class="token punctuation">(</span><span class="token string">&quot;webdriver - Google 搜索&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;```title: &quot;</span> <span class="token operator">+</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">&quot;webdriver - Google 搜索&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog_dev/JavaScript/JavaScript语言精粹2.html" class="prev">
        JavaScript 语言精粹 2
      </a></span> <span class="next"><a href="/blog_dev/JavaScript/Object_create原理.html">
        Object.create 原理
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog_dev/assets/js/app.709da227.js" defer></script><script src="/blog_dev/assets/js/2.556b46b5.js" defer></script><script src="/blog_dev/assets/js/116.49621d87.js" defer></script>
  </body>
</html>
